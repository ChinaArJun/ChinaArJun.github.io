(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{1221:function(s,t,a){"use strict";a.r(t);var e=a(44),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,e=s._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"_2小时躲坑k8s-大型分布式集群环境捷径部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2小时躲坑k8s-大型分布式集群环境捷径部署"}},[s._v("#")]),s._v(" 2小时躲坑k8s-大型分布式集群环境捷径部署")]),s._v(" "),e("h2",{attrs:{id:"课程介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#课程介绍"}},[s._v("#")]),s._v(" 课程介绍")]),s._v(" "),e("p",[s._v("​\tKubernetes(k8s)一个用于"),e("strong",[s._v("容器")]),s._v("集群的自动化部署、扩容以及运维的开源平台。通过Kubernetes,你可以"),e("strong",[s._v("快速有效地响应")]),s._v("用户需求;快速而有预期地部署你的应用;极速地"),e("strong",[s._v("扩展")]),s._v("你的应用;无缝"),e("strong",[s._v("对接新应用")]),s._v("功能;节省资源，优化"),e("strong",[s._v("硬件资源")]),s._v("的使用。为容器编排管理提供了完整的开源方案。")]),s._v(" "),e("p",[s._v("Kubernetes解决了什么问题？")]),s._v(" "),e("ul",[e("li",[s._v("服务器环境")]),s._v(" "),e("li",[s._v("服务器资源管理")]),s._v(" "),e("li",[s._v("服务容灾恢复")]),s._v(" "),e("li",[s._v("硬件资源利用")]),s._v(" "),e("li",[s._v("服务资源创建")]),s._v(" "),e("li",[s._v("\b可视化管理")]),s._v(" "),e("li",[s._v("服务资源监控")]),s._v(" "),e("li",[s._v("资源整合管理")])]),s._v(" "),e("p",[s._v("Kubernetes在容器编排可谓是做到了淋漓尽致，解决了之前的种种痛点，但是学习成本也相对较高，需要结合一定的实践，踩一定的坑才能形成自己的理解。")]),s._v(" "),e("h3",{attrs:{id:"目标"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#目标"}},[s._v("#")]),s._v(" 目标")]),s._v(" "),e("ul",[e("li",[s._v("了解什么是k8s，为什么世界需要它，k8s的工程师又为什么这么抢手。")]),s._v(" "),e("li",[s._v("k8s企业环境部署捷径，多Master/node躲坑快速部署。")]),s._v(" "),e("li",[s._v("基于Kubernetes集群管理,kubeadm，kubectl等常见指令使用。")]),s._v(" "),e("li",[s._v("基于Kubernetes快速启动集群Web应用。")])]),s._v(" "),e("h1",{attrs:{id:"一、kubernetes概述"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#一、kubernetes概述"}},[s._v("#")]),s._v(" 一、Kubernetes概述")]),s._v(" "),e("h2",{attrs:{id:"_1、什么是k8s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_1、什么是k8s"}},[s._v("#")]),s._v(" 1、什么是k8s")]),s._v(" "),e("p",[s._v("Kubernetes（K8s）是Google在2014年发布的一个开源项目。")]),s._v(" "),e("p",[s._v("​\t据说Google的数据中心里运行着20多亿个容器，而且Google十年多前就开始使用容器技术。")]),s._v(" "),e("p",[s._v("​\t最初，Google开发了一个叫Borg的系统（现在命名为Omega）来调度如此庞大数量的容器和工作负载。在积累了这么多年的经验后，Google决定重写这个容器管理系统，并将其贡献到开源社区，让全世界都能受益。")]),s._v(" "),e("p",[s._v("​\t这个项目就是Kubernetes。简单地讲，Kubernetes是Google Omega的开源版本。")]),s._v(" "),e("p",[s._v("​\t从2014年第一个版本发布以来，Kubernetes迅速获得开源社区的追捧，包括Red Hat、VMware、Canonical在内的很多有影响力的公司加入到开发和推广的阵营。目前Kubernetes已经成为发展最快、市场占有率最高的容器编排引擎产品。")]),s._v(" "),e("p",[e("img",{attrs:{src:a(576),alt:"k8s2"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(577),alt:"k8s3"}})]),s._v(" "),e("h2",{attrs:{id:"_2、kubernetes解决了什么问题"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2、kubernetes解决了什么问题"}},[s._v("#")]),s._v(" 2、Kubernetes解决了什么问题")]),s._v(" "),e("ul",[e("li",[s._v("通过 Kubernetes，分布式系统工具将拥有网络效应。每当人们为 Kubernetes 制作出的新的工具，都会让所有其他工具更完善。因此，这进一步巩固了 Kubernetes 的标准地位。")]),s._v(" "),e("li",[s._v("云提供商并非可替换的商品。不同的云提供的服务会变得越来越独特和不同。如果可以访问不同的云提供商提供的不同服务，那么企业将因此受益。")]),s._v(" "),e("li",[s._v("当多节点应用与单节点应用一样可靠时，我们将看到定价模型的变化。")]),s._v(" "),e("li",[s._v("这就是为什么我会被 Kubernetes 洗脑的原因，它是跨越异构系统的一个标准层。")]),s._v(" "),e("li",[s._v("将来，我们会像讨论编译器和操作系统内核一样讨论 Kubernetes。 Kubernetes 将会是低层级的管路系统，而不在普通应用开发人员的视野之内。")])]),s._v(" "),e("p",[s._v("Kubernetes 已成为部署分布式应用的标准方式。在不远的将来，任何新成立的互联网公司都将用到 Kubernetes，无论其是否意识到这点。许多旧应用也正在迁移到 Kubernetes。")]),s._v(" "),e("h4",{attrs:{id:"_2-1-起因：docker"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-起因：docker"}},[s._v("#")]),s._v(" 2.1 起因：Docker")]),s._v(" "),e("p",[e("img",{attrs:{src:a(578),alt:"image-20190620115317209"}})]),s._v(" "),e("h4",{attrs:{id:"单一稳定的一体化模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#单一稳定的一体化模型"}},[s._v("#")]),s._v(" 单一稳定的一体化模型")]),s._v(" "),e("p",[e("img",{attrs:{src:a(579),alt:"img"}})]),s._v(" "),e("h4",{attrs:{id:"微型化的应用部署模型"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#微型化的应用部署模型"}},[s._v("#")]),s._v(" 微型化的应用部署模型")]),s._v(" "),e("p",[s._v("(微服务、分布式、集群、高可用、负载均衡...)")]),s._v(" "),e("p",[e("img",{attrs:{src:a(580),alt:"img"}})]),s._v(" "),e("h4",{attrs:{id:"_2-2-容器编排？是需要标准的？"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-容器编排？是需要标准的？"}},[s._v("#")]),s._v(" 2.2 容器编排？是需要标准的？")]),s._v(" "),e("p",[s._v("如此多的docker该如何管理(通信、负载均衡、资源共享管理、容灾、监控、健康检查….)？")]),s._v(" "),e("ul",[e("li",[s._v("Mesos")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(581),alt:"img"}})]),s._v(" "),e("ul",[e("li",[s._v("docker swarm")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(582),alt:"img"}})]),s._v(" "),e("ul",[e("li",[s._v("kubernetes")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(583),alt:"image-20190620135040659"}})]),s._v(" "),e("p",[s._v("自2016年中，k8s表现出明显优势。")]),s._v(" "),e("p",[e("img",{attrs:{src:a(584),alt:"image-20190620143819102"}})]),s._v(" "),e("h3",{attrs:{id:"_3-kubernetes工程师价值"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-kubernetes工程师价值"}},[s._v("#")]),s._v(" 3. kubernetes工程师价值")]),s._v(" "),e("p",[e("img",{attrs:{src:a(585),alt:"image-20190620114057180"}})]),s._v(" "),e("h1",{attrs:{id:"二、环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#二、环境"}},[s._v("#")]),s._v(" 二、环境")]),s._v(" "),e("h2",{attrs:{id:"_2-1-部署软件环境版本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-部署软件环境版本"}},[s._v("#")]),s._v(" 2.1 部署软件环境版本")]),s._v(" "),e("p",[s._v("操作系统: "),e("code",[s._v("Ubuntu 18.10")]),s._v("(本教程采用server版本)")]),s._v(" "),e("p",[s._v("Docker： "),e("code",[s._v("docker-ce 18.06")])]),s._v(" "),e("p",[s._v("Kubernetes: "),e("code",[s._v("k8s 1.13.1")])]),s._v(" "),e("h2",{attrs:{id:"_2-2-ubuntu搭建研发环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-ubuntu搭建研发环境"}},[s._v("#")]),s._v(" 2.2 Ubuntu搭建研发环境")]),s._v(" "),e("p",[s._v("我们直接下载Unbuntu18.10-server版本，server版本的好处是没有Desktop,可以节省资源。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" http://mirrors.aliyun.com/ubuntu-releases/18.10/ubuntu-18.10-live-server-amd64.iso\n")])])]),e("blockquote",[e("p",[s._v("注:也可以从配套资料中获取")])]),s._v(" "),e("h2",{attrs:{id:"_2-3-ubuntu安装过程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ubuntu安装过程"}},[s._v("#")]),s._v(" 2.3 Ubuntu安装过程")]),s._v(" "),e("h3",{attrs:{id:"_2-3-1-创建虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-1-创建虚拟机"}},[s._v("#")]),s._v(" 2.3.1 创建虚拟机")]),s._v(" "),e("p",[s._v("在VMWare 中启动安装虚拟过程")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("创建新的虚拟机，选择推荐版本的iso文件")]),s._v(" "),e("p",[e("img",{attrs:{src:a(586),alt:"ubuntu1"}})])]),s._v(" "),e("li",[e("p",[s._v("选择自定义安装")])]),s._v(" "),e("li",[e("p",[s._v("为此虚拟机选择操作系统 "),e("code",[s._v("Linux Ubuntu 64位")])])]),s._v(" "),e("li",[e("p",[s._v("指定引导固件"),e("code",[s._v("UEFI")]),s._v(" 不要选择"),e("code",[s._v("BIOS")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(587),alt:"ubuntu2"}})])]),s._v(" "),e("li",[e("p",[s._v("命名为"),e("strong",[s._v("Master")])])]),s._v(" "),e("li",[e("p",[s._v("自定设置 存储为"),e("strong",[s._v("UbuntuMaster")]),s._v(" "),e("strong",[s._v("2CPU  2048MB 20GB硬盘")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(588),alt:"ubuntu3"}})]),s._v(" "),e("p",[e("img",{attrs:{src:a(589),alt:"ubuntu4"}})])]),s._v(" "),e("li",[e("p",[s._v("建议移除声卡和摄像头")])])]),s._v(" "),e("h3",{attrs:{id:"_2-3-2-图形界面安装方式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-2-图形界面安装方式"}},[s._v("#")]),s._v(" 2.3.2 图形界面安装方式")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("选择英文语言")])]),s._v(" "),e("li",[e("p",[s._v("英文键盘")])]),s._v(" "),e("li",[e("p",[s._v("设置国内镜像源头 "),e("code",[s._v("http://mirrors.aliyun.com/ubuntu/")]),s._v(" 注意末尾的斜线")])]),s._v(" "),e("li",[e("p",[s._v("设置您的用户名和密码，下文使用"),e("em",[s._v("YOUR_USERNAME")]),s._v(" "),e("em",[s._v("YOUR_PASSWORD")])])]),s._v(" "),e("li",[e("p",[e("strong",[s._v("切勿选择")]),s._v(" "),e("code",[s._v("microk8s snap")]),s._v(" "),e("code",[s._v("stable: v1.14.2")]),s._v(" 空格选中")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(590),alt:"ubuntu5"}})]),s._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[s._v("Tab键切换到"),e("em",[s._v("DONE")]),s._v("回车，开始安装过程")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(591),alt:"ubuntu6"}})]),s._v(" "),e("ol",{attrs:{start:"7"}},[e("li",[e("p",[s._v("安装结束后点击重启"),e("em",[s._v("Reboot Now")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(592),alt:"ubuntu7"}})])])]),s._v(" "),e("h3",{attrs:{id:"修改root密码"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改root密码"}},[s._v("#")]),s._v(" 修改root密码")]),s._v(" "),e("ol",[e("li",[s._v("安装过程中，输入用户名 "),e("code",[s._v("YOUR_USERNAME")]),s._v(" 密码: "),e("code",[s._v("YOUR_PASSWORD")])]),s._v(" "),e("li",[s._v("重新启动后登录 用户名 "),e("code",[s._v("YOUR_USERNAME")]),s._v(" 密码: "),e("code",[s._v("YOUR_PASSWORD")])]),s._v(" "),e("li",[s._v("确认登录成功后输入"),e("code",[s._v("sudo passwd")]),s._v(" 输入上面的"),e("code",[s._v("YOUR_PASSWORD")]),s._v(",然后输入root用户的密码"),e("code",[s._v("root")])])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("设置root用户的密码root，是为了教学过程中简单。\n但是在生产环境下禁止使用弱强度的密码。\n")])])]),e("p",[e("img",{attrs:{src:a(593),alt:"ubuntu8"}})]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[s._v("执行"),e("code",[s._v("exit")]),s._v("退出当前登录用户，然后使用root用户重新登录")]),s._v(" "),e("li",[s._v("输入"),e("code",[s._v("shutdown now")]),s._v("停机")])]),s._v(" "),e("h2",{attrs:{id:"_2-4-修改主机名"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-4-修改主机名"}},[s._v("#")]),s._v(" 2.4 修改主机名")]),s._v(" "),e("p",[s._v("修改主机名称")]),s._v(" "),e("ol",[e("li",[s._v("使用root用户登录")]),s._v(" "),e("li",[s._v("打开配置文件"),e("code",[s._v("vim /etc/cloud/cloud.cfg")])]),s._v(" "),e("li",[s._v("修改配置"),e("code",[s._v("preserve_hostname: true")])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(594),alt:"ubuntu9"}})]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[s._v("重启")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" -r now\n")])])]),e("h2",{attrs:{id:""}},[e("a",{staticClass:"header-anchor",attrs:{href:"#"}},[s._v("#")])]),s._v(" "),e("h2",{attrs:{id:"_2-5-配置静态ip-永久有效-nat模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-5-配置静态ip-永久有效-nat模式"}},[s._v("#")]),s._v(" 2.5 配置静态IP(永久有效)(NAT模式)")]),s._v(" "),e("ol",[e("li",[s._v("使用root用户登录Linux，如下以Node2为例")]),s._v(" "),e("li",[e("code",[s._v("vim /etc/netplan/50-cloud-init.yaml")])]),s._v(" "),e("li",[s._v("参考如下截图修改配置文件")])]),s._v(" "),e("ul",[e("li",[s._v("UbuntuMaster "),e("code",[s._v("172.16.235.146")])]),s._v(" "),e("li",[s._v("UbuntuNode1 "),e("code",[s._v("172.16.235.147")])]),s._v(" "),e("li",[s._v("UbuntuNode2 "),e("code",[s._v("172.16.235.148")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("network:\n    ethernets:\n        ens33:\n            addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177/24"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            dhcp4: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            gateway4: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2\n            nameservers:\n                       addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            optional: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    version: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("              \n")])])]),e("p",[s._v("或者动态获取")]),s._v(" "),e("p",[e("img",{attrs:{src:a(595),alt:"image-20190617115306138"}})]),s._v(" "),e("h2",{attrs:{id:"_2-6-修改hosts"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_2-6-修改hosts"}},[s._v("#")]),s._v(" 2.6 修改hosts")]),s._v(" "),e("p",[s._v("使用root用户登录")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("打开hosts文件 "),e("code",[s._v("vim /etc/hosts")])])]),s._v(" "),e("li",[e("p",[s._v("输入如下内容")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177 master\n")])])]),e("p",[s._v("这个ip是当前桥接或者NAT分配的IP地址")])]),s._v(" "),e("li",[e("p",[s._v("重启机器"),e("code",[s._v("shutdown -r now")])])])]),s._v(" "),e("h2",{attrs:{id:"ip应用启动："}},[e("a",{staticClass:"header-anchor",attrs:{href:"#ip应用启动："}},[s._v("#")]),s._v(" ip应用启动：")]),s._v(" "),e("p",[e("code",[s._v("$netplan apply")])]),s._v(" "),e("h1",{attrs:{id:"三、docker-ce安装及配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#三、docker-ce安装及配置"}},[s._v("#")]),s._v(" 三、Docker-CE安装及配置")]),s._v(" "),e("h2",{attrs:{id:"_3-1-docker简介"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-docker简介"}},[s._v("#")]),s._v(" 3.1 Docker简介")]),s._v(" "),e("h3",{attrs:{id:"_3-1-1-docker介绍"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-1-docker介绍"}},[s._v("#")]),s._v(" 3. 1.1 docker介绍")]),s._v(" "),e("ul",[e("li",[e("p",[s._v("docker是什么 ?")]),s._v(" "),e("blockquote",[e("p",[s._v("Docker 是一个开源的应用"),e("strong",[s._v("容器引擎")]),s._v("，是直接运行在宿主操作系统之上的一个容器，使用沙箱机制完全虚拟出一个完整的操作，容器之间不会有任何接口，从而让容器与宿主机之间、容器与容器之间隔离的更加彻底。每个容器会有自己的权限管理，独立的网络与存储栈，及自己的资源管理能，使同一台宿主机上可以友好的共存多个容器。")])])]),s._v(" "),e("li",[e("p",[s._v("docker与虚拟机对比")]),s._v(" "),e("blockquote",[e("p",[e("font",{attrs:{color:"red"}},[e("strong",[s._v("如果物理机是一幢住宅楼，虚拟机就是大楼中的一个个套间，而容器技术就是套间里的一个个隔断。")])])],1)]),s._v(" "),e("ul",[e("li",[e("p",[s._v("虚拟化技术不同")]),s._v(" "),e("blockquote",[e("ul",[e("li",[s._v("VMware Workstation、VirtualBoX")])]),s._v(" "),e("p",[s._v("硬件辅助虚拟化：（Hardware-assisted Virtualization）是指通过硬件辅助支持模拟运行环境，使客户机操作系统可以独立运行，实现完全虚拟化的功能。")]),s._v(" "),e("ul",[e("li",[s._v("Docker")])]),s._v(" "),e("p",[s._v("操作系统层虚拟化：（OS-level virtualization）这种技术将操作系统内核虚拟化，可以允许使用者空间软件实例被分割成几个独立的单元，在内核中运行，而不是只有一个单一实例运行。这个软件实例，也被称为是一个容器（containers）、虚拟引擎（Virtualization engine）、虚拟专用服务器（virtual private servers）。每个容器的进程是独立的，对于使用者来说，就像是在使用自己的专用服务器。")]),s._v(" "),e("p",[e("font",{attrs:{color:"red"}},[s._v("以上两种虚拟化技术都属于软件虚拟化，在现有的物理平台上实现对物理平台访问的截获和模拟。在软件虚拟化技术中，有些技术不需要硬件支持；而有些软件虚拟化技术，则依赖硬件支持。")])],1)])]),s._v(" "),e("li",[e("p",[s._v("应用场景不同")]),s._v(" "),e("blockquote",[e("ul",[e("li",[s._v("虚拟机更擅长于彻底隔离整个运行环境。如: 云服务提供商通常采用虚拟机技术隔离不同的用户。")]),s._v(" "),e("li",[s._v("Docker通常用于隔离不同的应用，例如前端，后端以及数据库。")])])])]),s._v(" "),e("li",[e("p",[s._v("资源的使用率不同")]),s._v(" "),e("blockquote",[e("p",[s._v("虚拟机启动需要数分钟，而Docker容器可以在数毫秒内启动。由于没有臃肿的从操作系统，Docker可以节省大量的磁盘空间以及其他系统资源。")])])])])]),s._v(" "),e("li",[e("p",[s._v("docker的版本")]),s._v(" "),e("ul",[e("li",[s._v("Docker-CE -> 社区版\n"),e("ul",[e("li",[s._v("Stable 版\n"),e("ul",[e("li",[s._v("稳定版, 一个季度更新一次")])])]),s._v(" "),e("li",[s._v("Edge 版\n"),e("ul",[e("li",[s._v("一个月更新一般")])])])])]),s._v(" "),e("li",[s._v("Docker-EE\n"),e("ul",[e("li",[s._v("企业版")]),s._v(" "),e("li",[s._v("收费的")])])])])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(596),alt:"docker1"}})]),s._v(" "),e("h2",{attrs:{id:"_3-2-配置国内源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-配置国内源"}},[s._v("#")]),s._v(" 3.2 配置国内源")]),s._v(" "),e("h3",{attrs:{id:"_3-2-1-基础准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-1-基础准备"}},[s._v("#")]),s._v(" 3.2.1 基础准备")]),s._v(" "),e("ol",[e("li",[s._v("Docker 要求 Ubuntu 系统的内核版本高于 3.10 ，查看本页面的前提条件来验证你的 Ubuntu 版本是否支持 Docker。")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -r \n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.18")]),s._v(".0-21-generic"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("主版本必须保持一致"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("安装"),e("code",[s._v("curl")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" telnet "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("wget")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("man")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\napt-transport-https "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nca-certificates "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\nsoftware-properties-common "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vim")]),s._v(" \n\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[s._v("查看新版本号")]),s._v(" "),e("ul",[e("li",[s._v("Ubuntu 18.10")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ lsb_release -c\nCodename:\tcosmic\n")])])])]),s._v(" "),e("li",[e("p",[s._v("查看确认国内源")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("\t$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" /etc/apt/sources.list /etc/apt/sources.list.bak\n\t$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/apt/sources.list\n")])])])])]),s._v(" "),e("h3",{attrs:{id:"_3-2-2-在线安装docker-ce-本教程不推荐"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-2-在线安装docker-ce-本教程不推荐"}},[s._v("#")]),s._v(" 3.2.2 在线安装Docker-ce(本教程不推荐)")]),s._v(" "),e("blockquote",[e("p",[s._v("(建议下面的手动安装方式，因为在线可能会出现版本不一致)")])]),s._v(" "),e("p",[s._v("注意： "),e("strong",[s._v("该国内源目前提供 "),e("code",[s._v("18.09")]),s._v("版本，与k8s不符。k8s推荐安装"),e("code",[s._v("Docker ce 18.06")])])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("安装GPG秘钥和添加国内镜像")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("curl")]),s._v(" -fsSL https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu/gpg "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])])]),e("p",[s._v("添加国内源头")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ add-apt-repository "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("\\")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"deb https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu \\\n    '),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),s._v("lsb_release -cs"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(' \\\n    stable"')]),s._v("\n")])])])])]),s._v(" "),e("p",[e("img",{attrs:{src:a(597),alt:"docker2"}})]),s._v(" "),e("ol",{attrs:{start:"2"}},[e("li",[s._v("更新国内源路径")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\n")])])]),e("p",[s._v("3.安装查看版本指令")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("apt-get install -y apt-show-versions\n")])])]),e("p",[s._v("4.查看docker-ce版本号")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("apt-show-versions -a docker-ce\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("在线安装"),e("code",[s._v("Docker-ce")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("   "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y docker-ce\n")])])]),e("div",{staticClass:"language- extra-class"},[e("pre",[e("code",[s._v("注意到当前安装的版本是 `docker-ce_5%3a18.09.6~3-0~ubuntu-cosmic_amd64.deb`\n")])])]),e("h3",{attrs:{id:"_3-2-3-手动安装docker-离线安装"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-3-手动安装docker-离线安装"}},[s._v("#")]),s._v(" 3.2.3 手动安装Docker(离线安装)")]),s._v(" "),e("ol",[e("li",[s._v("下载"),e("code",[s._v("docker-ce_18.06.1\\~ce\\~3-0\\~ubuntu_amd64.deb")])]),s._v(" "),e("li",[s._v("上传到上述文件到待安装服务器"),e("code",[s._v("master")])]),s._v(" "),e("li",[s._v("登录待安装服务器，切换到root账户")]),s._v(" "),e("li",[e("code",[s._v("dpkg -i docker-ce_18.06.1\\~ce\\~3-0\\~ubuntu_amd64.deb")])])]),s._v(" "),e("blockquote",[e("p",[s._v("如果提示错误")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("dpkg: error: dpkg frontend is locked by another process\n")])])]),e("p",[s._v("说明已经有其他进程在使用dpkg安装程序")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("sudo rm /var/lib/dpkg/lock\n")])])]),e("p",[s._v("即可。")]),s._v(" "),e("blockquote",[e("p",[s._v("如果提示错误")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/package$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" dpkg -i docker-ce_18.06.1~ce~3-0~ubuntu_amd64.deb\n \n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("sudo"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" password "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" itcast: \nSelecting previously unselected package docker-ce.\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("Reading database "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("100647")]),s._v(" files and directories currently installed."),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nPreparing to unpack docker-ce_18.06.1~ce~3-0~ubuntu_amd64.deb "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nUnpacking docker-ce "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1~ce~3-0~ubuntu"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\ndpkg: dependency problems prevent configuration of docker-ce:\n docker-ce depends on libltdl7 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.4")]),s._v(".6"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v(" however:\n  Package libltdl7 is not installed.\n\ndpkg: error processing package docker-ce "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("--install"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(":\n dependency problems - leaving unconfigured\nProcessing triggers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" man-db "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2.8")]),s._v(".4-2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nProcessing triggers "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" systemd "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("239")]),s._v("-7ubuntu10"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nErrors were encountered "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" processing:\n docker-ce\n")])])]),e("p",[s._v("表示当前docker-ce 依赖系统libltd17库，安装就可以了")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y libltdl7\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("docker version")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("Client:\n Version:           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1-ce\n API version:       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.38")]),s._v("\n Go version:        go1.10.3\n Git commit:        e68fc7a\n Built:             Tue Aug "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":24:56 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n OS/Arch:           linux/amd64\n Experimental:      "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nServer:\n Engine:\n  Version:          "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.06")]),s._v(".1-ce\n  API version:      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.38")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum version "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Go version:       go1.10.3\n  Git commit:       e68fc7a\n  Built:            Tue Aug "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("21")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(":23:21 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2018")]),s._v("\n  OS/Arch:          linux/amd64\n  Experimental:     "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n")])])]),e("p",[s._v("确保版本号是 "),e("code",[s._v("18.06")])]),s._v(" "),e("h2",{attrs:{id:"_3-3-启动docker-ce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-启动docker-ce"}},[s._v("#")]),s._v(" 3.3 启动Docker-ce")]),s._v(" "),e("ol",[e("li",[s._v("开机并启动docker")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" docker \n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start docker \n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("重启，登录确认"),e("code",[s._v("docker")]),s._v("已经运行")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("itcast@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" \nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("下载"),e("code",[s._v("Alpine")]),s._v("镜像热身一下 "),e("code",[s._v("Docker")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run -it --rm alpine:latest "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" \n")])])]),e("p",[s._v("输出内容如下，我们在"),e("code",[s._v("Docker")]),s._v("容器中测试三个命令，分别是")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("- "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("date")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n- "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n- "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("uname")]),s._v(" -r"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@ubuntu:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" docker run -it --rm alpine:latest "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v(" \nUnable to "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("find")]),s._v(" image "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'alpine:latest'")]),s._v(" locally\nlatest: Pulling from library/alpine\ne7c96db7181b: Pull complete \nDigest: sha256:769fddc7cc2f0a1c35abb2f91432e8beecf83916c421420e6a6da9f8975464b6\nStatus: Downloaded newer image "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" alpine:latest\n/ "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# date")]),s._v("\nMon Jun "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10")]),s._v(" 07:56:01 UTC "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("\n/ "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# time")]),s._v("\nBusyBox v1.29.3 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("-01-24 07:45:07 UTC"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" multi-call binary.\n\nUsage: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("time")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-vpa"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("-o FILE"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" PROG ARGS\n\nRun PROG, display resource usage when it exits\n\n\t-v\tVerbose\n\t-p\tPOSIX output "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v("\n\t-f FMT\tCustom "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("format")]),s._v("\n\t-o FILE\tWrite result to FILE\n\t-a\tAppend "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("else overwrite"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n/ "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# uname -r ")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.18")]),s._v(".0-10-generic\n\n")])])]),e("p",[e("img",{attrs:{src:a(598),alt:"docker3"}})]),s._v(" "),e("h2",{attrs:{id:"_3-4-创建docker用户组并添加当前用户"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-创建docker用户组并添加当前用户"}},[s._v("#")]),s._v(" 3.4 创建Docker用户组并添加当前用户")]),s._v(" "),e("p",[s._v("使用您的用户登录Linux然后执行如下操作，用户组docker可能已经存在。")]),s._v(" "),e("p",[s._v("如果使用普通用户目前是无法使用docker指令的")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nGot permission denied "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("while")]),s._v(" trying to connect to the Docker daemon socket at unix:///var/run/docker.sock: Get http://%2Fvar%2Frun%2Fdocker.sock/v1.38/containers/json: dial unix /var/run/docker.sock: connect: permission denied\n")])])]),e("p",[s._v("我们需要将当前的普通用户添加到当前的docker用户组中")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("groupadd")]),s._v(" docker\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("usermod")]),s._v(" -aG docker "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$USER")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exit")]),s._v("\n")])])]),e("p",[s._v("重新登录使用普通用户登录:")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ docker "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v("\nCONTAINER ID        IMAGE               COMMAND             CREATED             STATUS              PORTS               NAMES\n")])])]),e("p",[s._v("就可以使用了。")]),s._v(" "),e("h2",{attrs:{id:"_3-5-申请阿里云镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-5-申请阿里云镜像加速器"}},[s._v("#")]),s._v(" 3.5 申请阿里云镜像加速器")]),s._v(" "),e("p",[s._v("如果不申请阿里云私人专属镜像加速器，鼓励复制如下本人申请的私人专属镜像加速器，直接使用即可。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("https://ozcouv1b.mirror.aliyuncs.com\n")])])]),e("p",[e("strong",[s._v("申请步骤如下")])]),s._v(" "),e("p",[s._v("在阿里云注册自己账户")]),s._v(" "),e("p",[s._v("找到"),e("strong",[s._v("容器镜像服务")]),s._v("，参考网址如下")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("https://cr.console.aliyun.com/cn-hangzhou/instances/mirrors\n")])])]),e("p",[s._v("点开左侧菜单"),e("strong",[s._v("镜像中心")]),s._v("—>"),e("strong",[s._v("镜像加速器")])]),s._v(" "),e("p",[s._v("右侧加速器地址，即使私人专属的镜像加速器地址，点击"),e("strong",[s._v("复制")])]),s._v(" "),e("p",[s._v("粘贴到一个文本文件留存")]),s._v(" "),e("p",[s._v("![docker4](/Users/apple/Nustore Files/我的坚果云/课程研发/k8s/assert/docker4.jpg)")]),s._v(" "),e("hr"),s._v(" "),e("h2",{attrs:{id:"_3-6-docker配置国内镜像加速器"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_3-6-docker配置国内镜像加速器"}},[s._v("#")]),s._v(" 3.6 docker配置国内镜像加速器")]),s._v(" "),e("blockquote",[e("p",[s._v("目的 : 为了下载docker镜像更快")])]),s._v(" "),e("p",[s._v("您可以通过修改"),e("code",[s._v("daemon")]),s._v("配置文件"),e("code",[s._v("/etc/docker/daemon.json")]),s._v("来使用加速器。")]),s._v(" "),e("p",[s._v("创建"),e("code",[s._v("/etc/docker/daemon.json")]),s._v("文件，内容如下：")]),s._v(" "),e("div",{staticClass:"language-json extra-class"},[e("pre",{pre:!0,attrs:{class:"language-json"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token property"}},[s._v('"registry-mirrors"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"https://ozcouv1b.mirror.aliyuncs.com"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("p",[s._v("重启docker服务")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重载所有修改过的配置文件")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl daemon-reload\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启Docker服务")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl restart docker\n")])])]),e("h1",{attrs:{id:"四、kubernetes-安装及部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#四、kubernetes-安装及部署"}},[s._v("#")]),s._v(" 四、Kubernetes 安装及部署")]),s._v(" "),e("h2",{attrs:{id:"_4-1-k8s安装环境准备"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-k8s安装环境准备"}},[s._v("#")]),s._v(" 4.1 k8s安装环境准备")]),s._v(" "),e("h3",{attrs:{id:"_4-1-1-配置并安装k8s国内源"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-1-配置并安装k8s国内源"}},[s._v("#")]),s._v(" 4.1.1 配置并安装k8s国内源")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("创建配置文件"),e("code",[s._v("sudo touch /etc/apt/sources.list.d/kubernetes.list")])])]),s._v(" "),e("li",[e("p",[s._v("添加写权限")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chmod")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("666")]),s._v(" /etc/apt/sources.list.d/kubernetes.list \n")])])]),e("p",[s._v("再添加，内容如下:")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("deb http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial main\n")])])])]),s._v(" "),e("li",[e("p",[s._v("执行"),e("code",[s._v("sudo apt update")]),s._v(" 更新操作系统源，开始会遇见如下错误")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("tcast@master:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\nGet:1 http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8,993")]),s._v(" B"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nErr:1 http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease    \n  The following signatures couldn"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'t be verified because the public key is not available: NO_PUBKEY 6A030B21BA07F4FB\nHit:2 http://mirrors.aliyun.com/ubuntu cosmic InRelease                        \nHit:3 http://mirrors.aliyun.com/ubuntu cosmic-updates InRelease                \nHit:4 http://mirrors.aliyun.com/ubuntu cosmic-backports InRelease              \nHit:5 http://mirrors.aliyun.com/ubuntu cosmic-security InRelease               \nErr:6 https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu cosmic InRelease      \n  Could not wait for server fd - select (11: Resource temporarily unavailable) [IP: 202.141.176.110 443]\nReading package lists... Done                          \nW: GPG error: http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease: The following signatures couldn'")]),s._v("t be verified because the public key is not available: NO_PUBKEY 6A030B21BA07F4FB\nE: The repository "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease'")]),s._v(" is not signed.\nN: Updating from such a repository can't be "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("done")]),s._v(" securely, and is therefore disabled by default.\nN: See apt-secure"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" manpage "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" repository creation and user configuration details.\n")])])]),e("p",[s._v("其中：")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 6A030B21BA07F4FB\n")])])]),e("p",[s._v("签名认证失败，需要重新生成。记住上面的"),e("em",[s._v("NO_PUBKEY")]),s._v(" "),e("code",[s._v("6A030B21BA07F4FB")])])]),s._v(" "),e("li",[e("p",[s._v("添加认证key")]),s._v(" "),e("p",[s._v("运行如下命令，添加错误中对应的key(错误中NO_PUBKEY后面的key的后8位)")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gpg --keyserver keyserver.ubuntu.com --recv-keys BA07F4FB\n")])])]),e("p",[s._v("接着运行如下命令，确认看到"),e("strong",[s._v("OK")]),s._v("，说明成功，之后进行安装:")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("gpg --export --armor BA07F4FB "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" apt-key "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("add")]),s._v(" -\n")])])])]),s._v(" "),e("li",[e("p",[s._v("再次重新"),e("code",[s._v("sudo apt update")]),s._v("更新系统下载源数据列表")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update\nHit:1 https://mirrors.ustc.edu.cn/docker-ce/linux/ubuntu cosmic InRelease                  \nHit:2 http://mirrors.aliyun.com/ubuntu cosmic InRelease                                    \nHit:3 http://mirrors.aliyun.com/ubuntu cosmic-updates InRelease                            \nHit:4 http://mirrors.aliyun.com/ubuntu cosmic-backports InRelease                          \nHit:5 http://mirrors.aliyun.com/ubuntu cosmic-security InRelease                           \nGet:6 http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial InRelease "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8,993")]),s._v(" B"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("      \nIgn:7 http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial/main amd64 Packages\nGet:7 http://mirrors.ustc.edu.cn/kubernetes/apt kubernetes-xenial/main amd64 Packages "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("26.6")]),s._v(" kB"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\nFetched "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("26.6")]),s._v(" kB "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" 42s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("635")]),s._v(" B/s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("    \nReading package lists"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\nBuilding dependency tree       \nReading state information"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(". Done\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("165")]),s._v(" packages can be upgraded. Run "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'apt list --upgradable'")]),s._v(" to see them.\n")])])]),e("p",[s._v("以上没有报和错误异常，表示成功。")]),s._v(" "),e("h3",{attrs:{id:"_4-1-2-禁止基础设施"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-2-禁止基础设施"}},[s._v("#")]),s._v(" 4.1.2 禁止基础设施")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("禁止防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" ufw disable\nFirewall stopped and disabled on system startup\n")])])])]),s._v(" "),e("li",[e("p",[s._v("关闭swap")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 成功")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" swapoff -a \n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 永久关闭swap分区")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sed")]),s._v(" -i "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'s/.*swap.*/#&/'")]),s._v(" /etc/fstab\n")])])])]),s._v(" "),e("li",[e("p",[s._v("禁止selinux")])])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 安装操控selinux的命令")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y selinux-utils\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 禁止selinux")]),s._v("\n$ setenforce "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启操作系统")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" -r now\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 查看selinux是否已经关闭")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" getenforce\nDisabled"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("表示已经关闭"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),e("h2",{attrs:{id:"_4-2-k8s系统网络配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-k8s系统网络配置"}},[s._v("#")]),s._v(" 4.2 k8s系统网络配置")]),s._v(" "),e("p",[s._v("(1) 配置内核参数，将桥接的IPv4流量传递到iptables的链")]),s._v(" "),e("p",[s._v("创建"),e("code",[s._v("/etc/sysctl.d/k8s.conf")]),s._v("文件")]),s._v(" "),e("p",[s._v("添加内容如下:")]),s._v(" "),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("net.bridge.bridge-nf-call-ip6tables")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" 1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("net.bridge.bridge-nf-call-iptables")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" 1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[s._v("vm.swappiness")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token attr-value"}},[e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("=")]),s._v(" 0")]),s._v("\n")])])]),e("p",[s._v("(2) 执行命令使修改生效")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 【候选】建议执行下面的命令")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" modprobe br_netfilter\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" sysctl -p /etc/sysctl.d/k8s.conf\n")])])]),e("h2",{attrs:{id:"_4-3-安装k8s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-安装k8s"}},[s._v("#")]),s._v(" 4.3 安装k8s")]),s._v(" "),e("blockquote",[e("p",[e("strong",[s._v("注意: 切换到root用户 "),e("code",[s._v("$ su")])])])]),s._v(" "),e("ol",[e("li",[e("p",[s._v("安装Kubernetes 目前安装版本  "),e("code",[s._v("v1.13.1")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" update "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kubelet")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v(".1-00 kubernetes-cni"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.6")]),s._v(".0-00 "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kubeadm")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v(".1-00 "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("kubectl")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.13")]),s._v(".1-00\n")])])])]),s._v(" "),e("li",[e("p",[s._v("设置为开机重启")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" kubelet "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("&&")]),s._v(" systemctl start kubelet\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" -r now\n")])])])])]),s._v(" "),e("h2",{attrs:{id:"_4-4-验证k8s"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-验证k8s"}},[s._v("#")]),s._v(" 4.4 验证k8s")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("使用root用户登录"),e("code",[s._v("Master")]),s._v("主机")])]),s._v(" "),e("li",[e("p",[s._v("执行如下个命令")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl get nodes \n")])])])])]),s._v(" "),e("p",[s._v("输出如下")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl get nodes\nThe connection to the server localhost:8080 was refused - did you specify the right "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" or port?\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[s._v("查看当前k8s版本")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ kubectl version\n")])])])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("Client Version: version.Info"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("Major:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"1"')]),s._v(", Minor:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"13"')]),s._v(", GitVersion:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"v1.13.1"')]),s._v(", GitCommit:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"eec55b9ba98609a46fee712359c7b5b365bdd920"')]),s._v(", GitTreeState:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"clean"')]),s._v(", BuildDate:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"2018-12-13T10:39:04Z"')]),s._v(", GoVersion:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"go1.11.2"')]),s._v(", Compiler:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"gc"')]),s._v(", Platform:"),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"linux/amd64"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\nThe connection to the server localhost:8080 was refused - did you specify the right "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" or port?\n")])])]),e("h1",{attrs:{id:"五、创建企业kubernetes多主机集群环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#五、创建企业kubernetes多主机集群环境"}},[s._v("#")]),s._v(" 五、创建企业Kubernetes多主机集群环境")]),s._v(" "),e("h2",{attrs:{id:"_5-1-创建两个节点-两个虚拟机"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-1-创建两个节点-两个虚拟机"}},[s._v("#")]),s._v(" 5.1 创建两个节点(两个虚拟机)")]),s._v(" "),e("ol",[e("li",[s._v("在VMWare中创建完整克隆，分别命名为"),e("code",[s._v("UbuntuNode1")]),s._v("和"),e("code",[s._v("UbuntuNode2")])])]),s._v(" "),e("p",[s._v("![k8snode1](/Users/apple/Nustore Files/我的坚果云/课程研发/k8s/assert/k8snode1.jpg)")]),s._v(" "),e("p",[s._v("分别对两个完整克隆的虚拟机进行如下操作，修改主机名称和静态IP")]),s._v(" "),e("ol",[e("li",[s._v("使用root用户登录")]),s._v(" "),e("li",[s._v("打开配置文件"),e("code",[s._v("vim /etc/cloud/cloud.cfg")])]),s._v(" "),e("li",[s._v("修改配置"),e("code",[s._v("preserve_hostname: true")])])]),s._v(" "),e("p",[s._v("![k8snode2](/Users/apple/Nustore Files/我的坚果云/课程研发/k8s/assert/k8snode2.jpg)")]),s._v(" "),e("ol",{attrs:{start:"3"}},[e("li",[s._v("修改"),e("code",[s._v("/etc/hostname")]),s._v("，只有一行 "),e("code",[s._v("node1")]),s._v("或"),e("code",[s._v("node2")])])]),s._v(" "),e("h2",{attrs:{id:"_5-2-master和node基础配置"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-master和node基础配置"}},[s._v("#")]),s._v(" 5.2 master和node基础配置")]),s._v(" "),e("h3",{attrs:{id:"_5-2-1-给node配置hostname"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-1-给node配置hostname"}},[s._v("#")]),s._v(" 5.2.1 给node配置hostname")]),s._v(" "),e("p",[e("code",[s._v("node1")]),s._v("主机")]),s._v(" "),e("p",[s._v("/etc/hostname")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("node1\n")])])]),e("p",[e("code",[s._v("node2")]),s._v("主机")]),s._v(" "),e("p",[s._v("/et/hostname")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("node2\n")])])]),e("p",[s._v("2.确认配置的三台机器的主机名称")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cat")]),s._v(" /etc/hosts\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("shutdown")]),s._v(" -r now\n")])])]),e("h3",{attrs:{id:"_5-2-2-配置ip地址"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-2-配置ip地址"}},[s._v("#")]),s._v(" 5.2.2 配置IP地址")]),s._v(" "),e("ul",[e("li",[s._v("master")])]),s._v(" "),e("p",[e("code",[s._v("/etc/netplan/50-cloud-init.yaml")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("network:\n    ethernets:\n        ens33:\n            addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177/24"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            dhcp4: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            gateway4: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2\n            nameservers:\n                       addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            optional: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    version: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),e("p",[s._v("重启ip配置")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("netplan apply\n")])])]),e("ul",[e("li",[s._v("node1")])]),s._v(" "),e("p",[e("code",[s._v("/etc/netplan/50-cloud-init.yaml")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("network:\n    ethernets:\n        ens33:\n            addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.178/24"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            dhcp4: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            gateway4: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2\n            nameservers:\n                       addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            optional: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    version: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),e("p",[s._v("重启ip配置")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("netplan apply\n")])])]),e("ul",[e("li",[s._v("node2")])]),s._v(" "),e("p",[e("code",[s._v("/etc/netplan/50-cloud-init.yaml")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("network:\n    ethernets:\n        ens33:\n            addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.179/24"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            dhcp4: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n            gateway4: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2\n            nameservers:\n                       addresses: "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n            optional: "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n    version: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("\n")])])]),e("p",[s._v("重启ip配置")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("netplan apply\n")])])]),e("h3",{attrs:{id:"_5-2-3-修改hosts文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-2-3-修改hosts文件"}},[s._v("#")]),s._v(" 5.2.3 修改hosts文件")]),s._v(" "),e("p",[s._v("注意： (Master、Node1、Node2都需要配置)")]),s._v(" "),e("p",[s._v("使用root用户登录")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("打开hosts文件 "),e("code",[s._v("vim /etc/hosts")])])]),s._v(" "),e("li",[e("p",[s._v("输入如下内容")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177 master\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.178 node1\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.179 node2\n")])])])]),s._v(" "),e("li",[e("p",[s._v("重启机器"),e("code",[s._v("shutdown -r now")])])])]),s._v(" "),e("h2",{attrs:{id:"_5-3-配置master节点"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-配置master节点"}},[s._v("#")]),s._v(" 5.3 配置Master节点")]),s._v(" "),e("h3",{attrs:{id:"_5-3-1-创建工作目录"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-1-创建工作目录"}},[s._v("#")]),s._v(" 5.3.1 创建工作目录")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" /home/itcast/working\n$ "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("cd")]),s._v(" /home/itcast/working/\n")])])]),e("h3",{attrs:{id:"_5-3-2-创建kubeadm-conf配置文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-2-创建kubeadm-conf配置文件"}},[s._v("#")]),s._v(" 5.3.2 创建kubeadm.conf配置文件")]),s._v(" "),e("ol",[e("li",[s._v("创建k8s的管理工具"),e("code",[s._v("kubeadm")]),s._v("对应的配置文件，候选操作在"),e("code",[s._v("home/itcast/working/")]),s._v("目录下")])]),s._v(" "),e("p",[s._v("使用kubeadm配置文件，通过在配置文件中指定docker仓库地址，便于内网快速部署。")]),s._v(" "),e("p",[s._v("生成配置文件")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kubeadm config print init-defaults ClusterConfiguration > kubeadm.conf\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("修改"),e("code",[s._v("kubeadm.conf")]),s._v("中的如下两项:")])]),s._v(" "),e("ul",[e("li",[s._v("imageRepository")]),s._v(" "),e("li",[s._v("kubernetesVersion")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("vi")]),s._v(" kubeadm.conf\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改 imageRepository: k8s.gcr.io")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为 registry.cn-beijing.aliyuncs.com/imcto")]),s._v("\nimageRepository: registry.cn-beijing.aliyuncs.com/imcto\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 修改kubernetes版本kubernetesVersion: v1.13.0")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 改为kubernetesVersion: v1.13.1")]),s._v("\nkubernetesVersion: v1.13.1\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("修改"),e("code",[s._v("kubeadm.conf")]),s._v("中的API服务器地址，后面会频繁使用这个地址。")])]),s._v(" "),e("ul",[e("li",[s._v("localAPIEndpoint:")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("localAPIEndpoint:\n  advertiseAddress: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177\n  bindPort: "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6443")]),s._v("\n")])])]),e("blockquote",[e("p",[s._v("注意: "),e("code",[s._v("192.168.236.177")]),s._v("是master主机的ip地址")])]),s._v(" "),e("ol",{attrs:{start:"4"}},[e("li",[s._v("配置子网网络")])]),s._v(" "),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[s._v("networking:\n  dnsDomain: cluster.local\n  podSubnet: 10.244.0.0/16\n  serviceSubnet: 10.96.0.0/12\nscheduler: {}\n")])])]),e("p",[s._v("这里的"),e("code",[s._v("10.244.0.0/16")]),s._v(" 和 "),e("code",[s._v("10.96.0.0/12")]),s._v("分别是k8s内部pods和services的子网网络，最好使用这个地址，后续flannel网络需要用到。")]),s._v(" "),e("h3",{attrs:{id:"_5-3-3-拉取k8s必备的模块镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-3-拉取k8s必备的模块镜像"}},[s._v("#")]),s._v(" 5.3.3 拉取K8s必备的模块镜像")]),s._v(" "),e("ol",[e("li",[s._v("查看一下都需要哪些镜像文件需要拉取")])]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("$ kubeadm config images list --config kubeadm.conf\nregistry.cn-beijing.aliyuncs.com/imcto/kube-apiserver:v1.13.1\nregistry.cn-beijing.aliyuncs.com/imcto/kube-controller-manager:v1.13.1\nregistry.cn-beijing.aliyuncs.com/imcto/kube-scheduler:v1.13.1\nregistry.cn-beijing.aliyuncs.com/imcto/kube-proxy:v1.13.1\nregistry.cn-beijing.aliyuncs.com/imcto/pause:3.1\nregistry.cn-beijing.aliyuncs.com/imcto/etcd:3.2.24\nregistry.cn-beijing.aliyuncs.com/imcto/coredns:1.2.6\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("拉取镜像")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#下载全部当前版本的k8s所关联的镜像")]),s._v("\nkubeadm config images pull --config ./kubeadm.conf\n")])])]),e("h3",{attrs:{id:"_5-3-4-初始化kubernetes环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-4-初始化kubernetes环境"}},[s._v("#")]),s._v(" 5.3.4 初始化kubernetes环境")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#初始化并且启动")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" kubeadm init --config ./kubeadm.conf\n")])])]),e("p",[s._v("更多kubeadm配置文件参数详见")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("kubeadm config print-defaults\n")])])]),e("p",[e("strong",[s._v("k8s启动成功输出内容较多，但是记住末尾的内容")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("Your Kubernetes master has initialized successfully"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("!")]),s._v("\n\nTo start using your cluster, you need to run the following as a regular user:\n\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -i /etc/kubernetes/admin.conf "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n  "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -g"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n\nYou should now deploy a pod network to the cluster.\nRun "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"kubectl apply -f [podnetwork].yaml"')]),s._v(" with one of the options listed at:\n  https://kubernetes.io/docs/concepts/cluster-administration/addons/\n\nYou can now "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" any number of machines by running the following on each node\nas root:\n\n  kubeadm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177:6443 --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:e778d3665e52f5a680a87b00c6d54df726c2eda601c0db3bfa4bb198af2262a8\n")])])]),e("p",[s._v("按照官方提示，执行以下操作。")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("执行如下命令")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -i /etc/kubernetes/admin.conf "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -g"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n")])])])]),s._v(" "),e("li",[e("p",[s._v("创建系统服务并启动")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动kubelet 设置为开机自启动")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" kubelet\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动k8s服务程序")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start kubelet\n")])])])])]),s._v(" "),e("h3",{attrs:{id:"_5-3-5-验证kubernetes启动结果"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-5-验证kubernetes启动结果"}},[s._v("#")]),s._v(" 5.3.5 验证kubernetes启动结果")]),s._v(" "),e("ol",[e("li",[s._v("验证输入，注意显示master状态是"),e("code",[s._v("NotReady")]),s._v("，证明初始化服务器成功")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl get nodes\nNAME     STATUS     ROLES    AGE   VERSION\nmaster   NotReady   master   12m   v1.13.1\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("查看当前k8s集群状态")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl get cs\nNAME                 STATUS    MESSAGE              ERROR\nscheduler            Healthy   ok\ncontroller-manager   Healthy   ok\netcd-0               Healthy   "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"health"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"true"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),e("p",[s._v("目前只有一个master，还没有node，而且是NotReady状态，那么我们需要将node加入到master管理的集群中来。在加入之前，我们需要先配置k8s集群的内部通信网络，这里采用的是flannel网络。")]),s._v(" "),e("h3",{attrs:{id:"_5-3-6-部署集群内部通信flannel网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-3-6-部署集群内部通信flannel网络"}},[s._v("#")]),s._v(" 5.3.6 部署集群内部通信flannel网络")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$cd")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/working\n"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$wget")]),s._v(" https://raw.githubusercontent.com/coreos/flannel/a70459be0084506e4ec919aa1c114638878db11b/Documentation/kube-flannel.yml\n")])])]),e("p",[s._v("编辑这个文件，确保flannel网络是对的,找到"),e("code",[s._v("net-conf.json")]),s._v("标记的内容是否正确。")]),s._v(" "),e("div",{staticClass:"language-ini extra-class"},[e("pre",{pre:!0,attrs:{class:"language-ini"}},[e("code",[s._v(' net-conf.json: |\n    {\n      "Network": "10.244.0.0/16",\n      "Backend": {\n        "Type": "vxlan"\n      }\n')])])]),e("p",[e("strong",[s._v('这个"10.244.0.0/16"和 ./kubeadm.conf中的podsubnet的地址要一致。')])]),s._v(" "),e("p",[s._v("应用当前flannel配置文件")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("itcast@master:~/working$ kubectl apply -f kube-flannel.yml \n")])])]),e("p",[s._v("输出结果如下")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("root@master:~/working"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# kubectl apply -f https://raw.githubusercontent.com/coreos/flannel/a70459be0084506e4ec919aa1c114638878db11b/Documentation/kube-flannel.yml")]),s._v("\nclusterrole.rbac.authorization.k8s.io/flannel created\nclusterrolebinding.rbac.authorization.k8s.io/flannel created\nserviceaccount/flannel created\nconfigmap/kube-flannel-cfg created\ndaemonset.extensions/kube-flannel-ds-amd64 created\ndaemonset.extensions/kube-flannel-ds-arm64 created\ndaemonset.extensions/kube-flannel-ds-arm created\ndaemonset.extensions/kube-flannel-ds-ppc64le created\ndaemonset.extensions/kube-flannel-ds-s390x created\n")])])]),e("p",[s._v("安装flannel网络前 执行"),e("code",[s._v("kubectl get nodes")]),s._v("输出结果如下")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get node\nNAME     STATUS     ROLES    AGE   VERSION\nmaster   NotReady   master   10m   v1.13.1\n")])])]),e("p",[s._v("安装flannel网络后 执行"),e("code",[s._v("kubectl get nodes")]),s._v("输出结果如下")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get node\nNAME     STATUS   ROLES    AGE   VERSION\nmaster   Ready    master   10m   v1.13.1\n")])])]),e("p",[s._v("此时master已经是"),e("code",[s._v("Ready")]),s._v("状态了，表示已经配置成功了，那么我们就需要配置node来加入这个集群。")]),s._v(" "),e("h2",{attrs:{id:"_5-4-配置node"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-配置node"}},[s._v("#")]),s._v(" 5.4 配置Node")]),s._v(" "),e("h3",{attrs:{id:"_5-4-1-确认外部环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-1-确认外部环境"}},[s._v("#")]),s._v(" 5.4.1 确认外部环境")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("确认关闭swap")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" -y selinux-utils\nswapoff -a\n")])])])]),s._v(" "),e("li",[e("p",[s._v("禁止selinux")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("setenforce "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n")])])])]),s._v(" "),e("li",[e("p",[s._v("确认关闭防火墙")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("ufw disable\n")])])])])]),s._v(" "),e("h3",{attrs:{id:"_5-4-2-配置k8s集群的node主机环境"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_5-4-2-配置k8s集群的node主机环境"}},[s._v("#")]),s._v(" 5.4.2 配置k8s集群的Node主机环境")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("启动k8s后台服务")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动kubelet 设置为开机自启动")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("enable")]),s._v(" kubelet\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 启动k8s服务程序")]),s._v("\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" systemctl start kubelet\n")])])])]),s._v(" "),e("li",[e("p",[s._v("将master机器的"),e("code",[s._v("/etc/kubernetes/admin.conf")]),s._v("传到到node1和node2")]),s._v(" "),e("p",[s._v("登录"),e("code",[s._v("master")]),s._v("终端")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将admin.conf传递给node1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc/kubernetes/admin.conf itcast@192.168.236.178:/home/itcast/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将admin.conf传递给node2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" /etc/kubernetes/admin.conf itcast@192.168.236.179:/home/itcast/\n")])])])]),s._v(" "),e("li",[e("p",[s._v("登录"),e("code",[s._v("node1")]),s._v("终端，创建基础kube配置文件环境")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -i "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/admin.conf "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -g"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("登录"),e("code",[s._v("node2")]),s._v("终端，创建基础kube配置文件环境")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("cp")]),s._v(" -i "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/admin.conf "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("chown")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -u"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$(")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("id")]),s._v(" -g"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v(")")])]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/.kube/config\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[e("code",[s._v("node1")]),s._v("和"),e("code",[s._v("node2")]),s._v("分别连接"),e("code",[s._v("master")]),s._v("加入master集群。这里用的是"),e("code",[s._v("kubeadm join")]),s._v("指令")])]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" kubeadm "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("join")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("192.168")]),s._v(".236.177:6443 --token abcdef.0123456789abcdef --discovery-token-ca-cert-hash sha256:e778d3665e52f5a680a87b00c6d54df726c2eda601c0db3bfa4bb198af2262a8\n")])])]),e("p",[s._v("这里要注意，使用的hash应该是"),e("code",[s._v("master")]),s._v("主机 "),e("code",[s._v("kubeadm init")]),s._v("成功之后生成的hash码。")]),s._v(" "),e("ol",{attrs:{start:"6"}},[e("li",[s._v("应用两个node主机分别应用flannel网络")])]),s._v(" "),e("p",[s._v("将"),e("code",[s._v("master")]),s._v("中的"),e("code",[s._v("kube-flannel.yml")]),s._v("分别传递给两个"),e("code",[s._v("node")]),s._v("节点.")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将kube-flannel.yml传递给node1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/working/kube-flannel.yml itcast@192.168.236.178:/home/itcast/\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#将kube-flannel.yml传递给node2")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("scp")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("$HOME")]),s._v("/working/kube-flannel.yml itcast@192.168.236.179:/home/itcast/\n")])])]),e("p",[s._v("分别启动"),e("code",[s._v("flannel")]),s._v("网络")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@node1:~$ kubectl apply -f kube-flannel.yml \n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@node2:~$ kubectl apply -f kube-flannel.yml\n")])])]),e("ol",{attrs:{start:"7"}},[e("li",[s._v("查看node是否已经加入到k8s集群中(需要等一段时间才能ready)")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@node2:~$ kubectl get nodes\nNAME     STATUS   ROLES    AGE     VERSION\nmaster   Ready    master   35m     v1.13.1\nnode1    Ready    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   2m23s   v1.13.1\nnode2    Ready    "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("   40s     v1.13.1\n")])])]),e("h1",{attrs:{id:"六、应用实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#六、应用实例"}},[s._v("#")]),s._v(" 六、应用实例")]),s._v(" "),e("h2",{attrs:{id:"_6-1-创建mysql实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-创建mysql实例"}},[s._v("#")]),s._v(" 6.1 创建MySQL实例")]),s._v(" "),e("h3",{attrs:{id:"_6-1-1-定义描述文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-1-定义描述文件"}},[s._v("#")]),s._v(" 6.1.1 定义描述文件")]),s._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ReplicationController                            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#副本控制器RC")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mysql                                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#RC的名称，全局唯一")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("                                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Pod副本的期待数量")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mysql                                         "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#符合目标的Pod拥有此标签")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("                                            "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#根据此模板创建Pod的副本（实例）")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mysql                                     "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Pod副本拥有的标签，对应RC的Selector")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("                                      "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Pod内容器的定义部分")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" mysql                                    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器的名称")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" hub.c.163.com/library/mysql              "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器对应的Docker image")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("                          "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#容器应用监听的端口号")]),s._v("\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("targetPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("                                           "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#注入容器内的环境变量")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_ROOT_PASSWORD \n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),s._v("\n")])])]),e("h3",{attrs:{id:"_6-1-2-加载replicationcontroller副本控制器描述文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-2-加载replicationcontroller副本控制器描述文件"}},[s._v("#")]),s._v(" 6.1.2 加载ReplicationController副本控制器描述文件")]),s._v(" "),e("p",[s._v("创建好mysql-rc.yaml后，在master节点使用kubectl命令将它发布到k8s集群中。")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("kubectl create -f mysql-rc.yaml\n")])])]),e("h3",{attrs:{id:"_6-1-3-查看启动状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-3-查看启动状态"}},[s._v("#")]),s._v(" 6.1.3 查看启动状态")]),s._v(" "),e("p",[s._v("通过查看当前的"),e("code",[s._v("pods")]),s._v("列表，是否已经启动成功:")]),s._v(" "),e("h3",{attrs:{id:"_6-1-4-网络异常解决方案-未出现问题可直接跳过"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-4-网络异常解决方案-未出现问题可直接跳过"}},[s._v("#")]),s._v(" 6.1.4 网络异常解决方案(未出现问题可直接跳过)")]),s._v(" "),e("p",[s._v("注意：如果这里出现了"),e("code",[s._v("ContainerCreating")]),s._v("状态，那么可以尝试如下解决办法:")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get pods\nNAME          READY   STATUS              RESTARTS   AGE\nmysql-tscrh   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          17m\n")])])]),e("p",[s._v("目前mysql-tscrh 描述文件 已经创建，但是没有启动成功. 状态是"),e("code",[s._v("ContainerCreating")]),s._v(" 没有启动起来.")]),s._v(" "),e("p",[s._v("通过"),e("code",[s._v("kubectl describe pods")]),s._v("来查看"),e("code",[s._v("pods")]),s._v("的详细状态")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl describe pods mysql\nName:               mysql-tscrh\nNamespace:          default\nPriority:           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\nPriorityClassName:  "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nNode:               node1/192.168.236.178\nStart Time:         Mon, "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("17")]),s._v(" Jun "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v(" 09:10:35 +0000\nLabels:             "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("mysql\nAnnotations:        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nStatus:             Pending\nIP:                 \nControlled By:      ReplicationController/mysql\nContainers:\n  mysql:\n    Container ID:   \n    Image:          hub.c.163.com/library/mysql\n    Image ID:       \n    Port:           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("/TCP\n    Host Port:      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/TCP\n    State:          Waiting\n      Reason:       ContainerCreating\n    Ready:          False\n    Restart Count:  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n    Environment:\n      MYSQL_ROOT_PASSWORD:  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n    Mounts:\n      /var/run/secrets/kubernetes.io/serviceaccount from default-token-q6ggq "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("ro"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nConditions:\n  Type              Status\n  Initialized       True \n  Ready             False \n  ContainersReady   False \n  PodScheduled      True \nVolumes:\n  default-token-q6ggq:\n    Type:        Secret "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("a volume populated by a Secret"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    SecretName:  default-token-q6ggq\n    Optional:    "),e("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\nQoS Class:       BestEffort\nNode-Selectors:  "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nTolerations:     node.kubernetes.io/not-ready:NoExecute "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" 300s\n                 node.kubernetes.io/unreachable:NoExecute "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" 300s\nEvents:\n  Type     Reason                  Age                     From               Message\n  ----     ------                  ----                    ----               -------\n  Normal   Scheduled               22m                     default-scheduler  Successfully assigned default/mysql-tscrh to node1\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"58d143373e767c40610587624c667d8e20dd77fa397952406a085f2ae1dc38e6"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"81d12726dbe075c64af48142638e98863231e8201ccc292f0dda1fccfa7fdaec"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"8bd77ee0176d369435ead7bd3c2675b7bbcbdc2b052cf34c784f04053a7d5288"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"0733fc209e085e96f5823a2280b012a609dace41fda967c5ae951005a8699ce6"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"91f337eb334612b2e7426d820ba4b15a9c9c549050517d459508832b69780b5f"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"48cbba9896068a774d9128a6864394e8726a0d857bae61036421ad73f5d6e3dd"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"d259778aa19418a9a429b3175b66afae3d8ffb7324ec9df492b2947dbc153460"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3d01c00ac9eaac7b2e983402be38c1cf60c4bbd1d454aa45329ce0ca0c2bf792"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  22m                     kubelet, node1     Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"98879cbb0405dac3a24753dd1986070a53fe9ee9f1b819996a903c19286a2bb7"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Warning  FailedCreatePodSandBox  7m49s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x838 over 22m"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("   kubelet, node1     "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("combined from similar events"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(": Failed create pod sandbox: rpc error: code "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" Unknown desc "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up sandbox container "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"60923335b41c2d0412b279bdb6150f9b9b7eae20c4a02549e35509083c01384b"')]),s._v(" network "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh"')]),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v(":")]),s._v(" NetworkPlugin cni failed to "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("set")]),s._v(" up pod "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql-tscrh_default"')]),s._v(" network: "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("open")]),s._v(" /run/flannel/subnet.env: no such "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("file")]),s._v(" or directory\n  Normal   SandboxChanged          2m49s "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("x1127 over 22m"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("  kubelet, node1     Pod sandbox changed, it will be killed and re-created.\n")])])]),e("p",[s._v("会看到一个错误:")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v('"mysql-tscrh": NetworkPlugin cni failed to set up pod "mysql-tscrh_default" network: open /run/flannel/subnet.env: no such file or directory\n')])])]),e("p",[s._v("这是缺少/run/flannel/subnet.env文件")]),s._v(" "),e("h5",{attrs:{id:"解决办法：配置flannel网络"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#解决办法：配置flannel网络"}},[s._v("#")]),s._v(" 解决办法：配置flannel网络")]),s._v(" "),e("p",[s._v("分别在三台服务器上执行如下步骤")]),s._v(" "),e("ol",[e("li",[e("p",[s._v("创建目录")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("mkdir")]),s._v(" -p /run/flannel\n")])])])]),s._v(" "),e("li",[e("p",[s._v("创建环境描述文件")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sudo")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /run/flannel/subnet.env "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v("'EOF'\nFLANNEL_NETWORK=10.244.0.0/16\nFLANNEL_SUBNET=10.244.0.1/24\nFLANNEL_MTU=1450\nFLANNEL_IPMASQ=true\nEOF")]),s._v("\n")])])])])]),s._v(" "),e("h3",{attrs:{id:"_6-1-5-查看mysql实例集群状态"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-1-5-查看mysql实例集群状态"}},[s._v("#")]),s._v(" 6.1.5 查看mysql实例集群状态")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get pods\nNAME          READY   STATUS              RESTARTS   AGE\nmysql-tscrh   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          17m\n")])])]),e("p",[s._v("如果为"),e("code",[s._v("Running")]),s._v("状态，则为mysql集群启动成功。")]),s._v(" "),e("h2",{attrs:{id:"_6-2-创建tomcat实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-创建tomcat实例"}},[s._v("#")]),s._v(" 6.2 创建Tomcat实例")]),s._v(" "),e("h3",{attrs:{id:"_6-2-1-定义描述文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-1-定义描述文件"}},[s._v("#")]),s._v(" 6.2.1 定义描述文件")]),s._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ReplicationController\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("                                       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Pod副本期待数量为5")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" docker.io/kubeguide/tomcat"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("app"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v1\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" \n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_HOST\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"mysql"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_PORT\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3306"')]),s._v("\n")])])]),e("h3",{attrs:{id:"_6-2-2-加载rc副本描述文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-2-加载rc副本描述文件"}},[s._v("#")]),s._v(" 6.2.2 加载RC副本描述文件")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl create -f myweb-rc.yaml\nreplicationcontroller/myweb created\n$ kubectl get rc\nNAME    DESIRED   CURRENT   READY   AGE\nmysql   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       4m22s\nmyweb   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("       7s\n$ kubectl get pods\nNAME          READY   STATUS              RESTARTS   AGE\nmysql-tp69s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running             "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          21s\nmyweb-266mz   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2s\nmyweb-j7nl7   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2s\nmyweb-s7drm   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2s\nmyweb-sq4ns   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2s\nmyweb-t4vlf   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("/1     ContainerCreating   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2s\n$ \n")])])]),e("p",[s._v("注意mysql实例 状态 "),e("code",[s._v("Running")])]),s._v(" "),e("p",[s._v("myweb实例状态 "),e("code",[s._v("ContainerCreating")])]),s._v(" "),e("p",[s._v("过几分钟myweb实例状态变成 "),e("code",[s._v("Running")])]),s._v(" "),e("h3",{attrs:{id:"_6-2-3-创建服务副本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-3-创建服务副本"}},[s._v("#")]),s._v(" 6.2.3 创建服务副本")]),s._v(" "),e("p",[s._v("在master服务器")]),s._v(" "),e("ol",[e("li",[s._v("使用root用户登录，并切换到working目录 "),e("code",[s._v("cd /root/working")])]),s._v(" "),e("li",[s._v("创建描述服务描述文件"),e("code",[s._v("myweb-svc.yaml")])])]),s._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NodePort\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodePort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30001")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" myweb \n")])])]),e("h3",{attrs:{id:"_6-2-4-部署服务"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-4-部署服务"}},[s._v("#")]),s._v(" 6.2.4 部署服务")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("$kubectl")]),s._v(" create -f myweb-svc.yaml\n")])])]),e("h3",{attrs:{id:"_6-2-5-验证"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-2-5-验证"}},[s._v("#")]),s._v(" 6.2.5 验证")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl get pods\nNAME          READY   STATUS    RESTARTS   AGE\nmysql-tp69s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          15m\nmyweb-266mz   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          14m\nmyweb-j7nl7   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          14m\nmyweb-s7drm   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          14m\nmyweb-sq4ns   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          14m\nmyweb-t4vlf   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          14m\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v("     \nNAME         TYPE        CLUSTER-IP       EXTERNAL-IP   PORT"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("S"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("          AGE\nkubernetes   ClusterIP   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1        "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("/TCP          19h\nmyweb        NodePort    "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.109")]),s._v(".234.197   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v(":30001/TCP   25m\n")])])]),e("p",[s._v("已经看到已经有一个"),e("code",[s._v("myweb")]),s._v("服务已经启动")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl describe "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("service")]),s._v(" myweb\nName:                     myweb\nNamespace:                default\nLabels:                   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nAnnotations:              "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\nSelector:                 "),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("myweb\nType:                     NodePort\nIP:                       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.109")]),s._v(".234.197\nPort:                     "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("unset"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/TCP\nTargetPort:               "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("/TCP\nNodePort:                 "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("unset"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30001")]),s._v("/TCP\nEndpoints:                "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".0.6:8080,10.244.0.6:8080,10.244.0.7:8080 + "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v(" more"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\nSession Affinity:         None\nExternal Traffic Policy:  Cluster\nEvents:                   "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("none"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])])]),e("p",[s._v("service详情这里的IP就是CLUSTER-IP. CLUSTER-IP是和service绑定的。")]),s._v(" "),e("p",[s._v("service详情这里的Port就是Service的端口号。")]),s._v(" "),e("p",[s._v("service详情这里的NodePort就是Node的真实端口号。")]),s._v(" "),e("p",[s._v("service详情这里的Endpoints就是容器的IP和port。")]),s._v(" "),e("p",[s._v("验证端口号")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("netstat")]),s._v(" -tlp"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30001")]),s._v("\ntcp6       "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":30001              "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("::"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(":*                  LISTEN      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4333")]),s._v("/kube-proxy\n$\n")])])]),e("p",[s._v("我们可以打开浏览器，输入master/node1/node2任何一个地址家30001端口都可以，访问tomcat服务。")]),s._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("http://192.168.236.177:30001\n")])])]),e("h2",{attrs:{id:"_6-3-创建自定义的beego-应用web程序集群"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-创建自定义的beego-应用web程序集群"}},[s._v("#")]),s._v(" 6.3 创建自定义的Beego 应用web程序集群")]),s._v(" "),e("h3",{attrs:{id:"_6-3-1-初始化mysql"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-1-初始化mysql"}},[s._v("#")]),s._v(" 6.3.1 初始化mysql")]),s._v(" "),e("ol",[e("li",[s._v("找到我们之前创建好的mysql的pod的"),e("code",[s._v("NAME")])])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ kubectl get pods\nNAME          READY   STATUS    RESTARTS   AGE\nmysql-kjdz8   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\nmyweb-f7rt4   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\nmyweb-jjxbp   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\nmyweb-k8rmt   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\nmyweb-rht8n   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\nmyweb-wsgzw   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          4d23h\n")])])]),e("ol",{attrs:{start:"2"}},[e("li",[s._v("查看当前pod的详细信息")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ kubectl describe pod mysql-kjdz8\n\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[s._v("得到mysql在subnet内网的IP地址"),e("code",[s._v("10.244.1.8")]),s._v("  和登录密码")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("IP:                 "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".1.8 \n "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("..")]),s._v(".\n Environment:\n      MYSQL_ROOT_PASSWORD:  "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n")])])]),e("ol",{attrs:{start:"4"}},[e("li",[s._v("登录mysql实例，创建数据库")])]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ kubectl "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it mysql-kjdz8 -- "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("bash")]),s._v("\n")])])]),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("root@mysql-kjdz8:/"),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# mysql -u root --password=123456 --default-character-set=utf8     ")]),s._v("\n")])])]),e("ol",{attrs:{start:"5"}},[e("li",[s._v("创建数据库，注意大小写")])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("CREATE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DATABASE")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("IF")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("NOT")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("EXISTS")]),s._v(" newsWeb  "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("default")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("charset")]),s._v(" utf8 "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("COLLATE")]),s._v(" utf8_general_ci"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])])]),e("ol",{attrs:{start:"6"}},[e("li",[s._v("使用数据库")])]),s._v(" "),e("div",{staticClass:"language-sql extra-class"},[e("pre",{pre:!0,attrs:{class:"language-sql"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("use")]),s._v(" newsWeb\n")])])]),e("h3",{attrs:{id:"_6-3-2-下载自定义的beego-docker-镜像"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-2-下载自定义的beego-docker-镜像"}},[s._v("#")]),s._v(" 6.3.2 下载自定义的beego-docker 镜像")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ docker pull registry.cn-shanghai.aliyuncs.com/itcast-golang/beego-microservices:v4\n921b31ab772b: Pull complete \n5dbef71438d6: Pull complete \n06b82a06d476: Pull complete \n903fde8a2004: Pull complete \n5102aca51d1d: Pull complete \nb0ebda6ce096: Pull complete \n1a243f1cae73: Pull complete \nDigest: sha256:7b83e5117d964f348750de76104d6302285410365aaf6e6a0d4f57edab7a0ad5\nStatus: Downloaded newer image "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("for")]),s._v(" registry.cn-shanghai.aliyuncs.com/itcast-golang/beego-microservices:v4\n")])])]),e("p",[s._v("当然，目前该镜像地址是我们自己打包的，如果你想启动你自己的镜像应用，也需要打包成docker镜像放在阿里云或者其他docker仓库中。")]),s._v(" "),e("p",[s._v("查看docker镜像是否已经下载成功。")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~$ docker images\nREPOSITORY                                                            TAG                 IMAGE ID            CREATED             SIZE\nregistry.cn-shanghai.aliyuncs.com/itcast-golang/beego-microservices   v4                  11f6f974f78b        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("35")]),s._v(" minutes ago      "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(".1MB\nalpine                                                                latest              055936d39205        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("6")]),s._v(" weeks ago         "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v(".53MB\nregistry.cn-beijing.aliyuncs.com/imcto/kube-controller-manager        v1.13.1             6ca952430d0a        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        146MB\nregistry.cn-beijing.aliyuncs.com/imcto/kube-proxy                     v1.13.1             a311f9763fcc        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("80")]),s._v(".2MB\nregistry.cn-beijing.aliyuncs.com/imcto/coredns                        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(".6               782ac1267b76        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        40MB\nregistry.cn-beijing.aliyuncs.com/imcto/etcd                           "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.2")]),s._v(".24              399cf402bfe9        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        220MB\nregistry.cn-beijing.aliyuncs.com/imcto/pause                          "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3.1")]),s._v("                 73ae15a7a613        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        742kB\nregistry.cn-beijing.aliyuncs.com/imcto/kube-scheduler                 v1.13.1             4b8df70aff4e        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("79")]),s._v(".6MB\nregistry.cn-beijing.aliyuncs.com/imcto/kube-apiserver                 v1.13.1             06924f18fe15        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v(" months ago        181MB\nquay.io/coreos/flannel                                                v0.11.0-amd64       ff281650a721        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v(" months ago        "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("52")]),s._v(".6MB\n")])])]),e("h3",{attrs:{id:"_6-3-3-创建beego的rc副本文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-3-创建beego的rc副本文件"}},[s._v("#")]),s._v(" 6.3.3 创建beego的RC副本文件")]),s._v(" "),e("div",{staticClass:"language-yaml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-yaml"}},[e("code",[e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" ReplicationController\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("replicas")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("5")]),s._v("                                       "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("#Pod副本期待数量为5")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("template")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("labels")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containers")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("image")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" registry.cn"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("shanghai.aliyuncs.com/itcast"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("golang/beego"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v("microservices"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("v4\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("containerPort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("env")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_HOST\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"10.244.1.8"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_PORT\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"3306"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_USER\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"root"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_PASSWORD\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"123456"')]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" MYSQL_SERVICE_DATABASE\n          "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("value")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"newsWeb"')]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("---")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("apiVersion")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" v1\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("kind")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" Service\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("metadata")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("name")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n"),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("spec")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("type")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" NodePort\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("ports")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("-")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("port")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n      "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("nodePort")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("30080")]),s._v("\n  "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("selector")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token key atrule"}},[s._v("app")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(":")]),s._v(" beego\n~               \n")])])]),e("p",[s._v("这里要注意，里面的mysql环境变量IP、端口、数据库用户名密码等，都是我们上面实例获取到的。")]),s._v(" "),e("p",[s._v("这里实际上是在我们创建一个pods容器的时候，指定的一些环境变量。然后beego的应用程序会从系统中这些环境变量去取数据。")]),s._v(" "),e("p",[s._v("目前建立了NodePort端口映射，beegoWeb应用在内网的端口是8080，对外的映射端口是30080.那么30080就是我们外网可以访问的端口号。")]),s._v(" "),e("h3",{attrs:{id:"_6-3-4-装载rc副本文件，创建beego集群实例"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-4-装载rc副本文件，创建beego集群实例"}},[s._v("#")]),s._v(" 6.3.4 装载RC副本文件，创建beego集群实例")]),s._v(" "),e("div",{staticClass:"language-shell extra-class"},[e("pre",{pre:!0,attrs:{class:"language-shell"}},[e("code",[s._v("$ kubectl apply -f golang-beego.yaml\n")])])]),e("p",[s._v("查看beego的web程序pods是否已经正常启动")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl get pods\nNAME          READY   STATUS    RESTARTS   AGE\nbeego-2wt7s   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m47s\nbeego-6jp8x   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m47s\nbeego-7bkvl   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m47s\nbeego-qjldn   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m47s\nbeego-vldmh   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("          2m47s\nmysql-kjdz8   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\nmyweb-f7rt4   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\nmyweb-jjxbp   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\nmyweb-k8rmt   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\nmyweb-rht8n   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\nmyweb-wsgzw   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("/1     Running   "),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2")]),s._v("          5d\n")])])]),e("p",[s._v("也可以查看beego程序的pods的正常输出日志")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl log beego-2wt7s     \nlog is DEPRECATED and will be removed "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("in")]),s._v(" a future version. Use logs instead.\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("/06/24 09:19:12 root:123456@tcp"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".1.8:3306"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("/newsWeb?charset"),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("utf8\ntable "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("user"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" already exists, skip\ntable "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("article"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" already exists, skip\ntable "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("article_type"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" already exists, skip\ntable "),e("span",{pre:!0,attrs:{class:"token variable"}},[e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")]),s._v("article_users"),e("span",{pre:!0,attrs:{class:"token variable"}},[s._v("`")])]),s._v(" already exists, skip\n"),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("2019")]),s._v("/06/24 09:19:12.241 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("I"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("asm_amd64.s:1337"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("  http server Running on http://:8080\n")])])]),e("p",[s._v("进入其中一个beego容器，查看环境变量是否和我们配置的一致")]),s._v(" "),e("div",{staticClass:"language-bash extra-class"},[e("pre",{pre:!0,attrs:{class:"language-bash"}},[e("code",[s._v("itcast@master:~/working$ kubectl  "),e("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("exec")]),s._v(" -it beego-2wt7s -- "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("sh")]),s._v("\n/app "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# env")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_SERVICE_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.96.0.1:443\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_PORT_8080_TCP")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.107.31.251:8080\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOSTNAME")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("beego-2wt7s\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_SERVICE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.106")]),s._v(".98.4\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_PORT_8080_TCP_ADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.106")]),s._v(".98.4\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("SHLVL")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("1")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("HOME")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/root\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_PORT_8080_TCP_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_PORT_8080_TCP_PROTO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_SERVICE_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.106.98.4:8080\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYWEB_PORT_8080_TCP")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.106.98.4:8080\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("TERM")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("xterm\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_PORT_443_TCP_ADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PASSWORD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PATH")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_PORT_443_TCP_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".1.8\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_PORT_443_TCP_PROTO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_SERVICE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.107")]),s._v(".31.251\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_PORT_8080_TCP_ADDR")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.107")]),s._v(".31.251\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_SERVICE_PORT_HTTPS")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("443")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_PORT_443_TCP")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.96.0.1:443\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_PORT_8080_TCP_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("KUBERNETES_SERVICE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.96")]),s._v(".0.1\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_PORT_8080_TCP_PROTO")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[e("span",{pre:!0,attrs:{class:"token environment constant"}},[s._v("PWD")])]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("/app\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_DATABASE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("newsWeb\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("tcp://10.107.31.251:8080\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("BEEGO_SERVICE_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("8080")]),s._v("\n/app "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# env | grep MYSQL")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PASSWORD")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("123456")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_HOST")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("10.244")]),s._v(".1.8\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_USER")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("root\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_PORT")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),e("span",{pre:!0,attrs:{class:"token number"}},[s._v("3306")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token assign-left variable"}},[s._v("MYSQL_SERVICE_DATABASE")]),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v("newsWeb\n")])])]),e("h3",{attrs:{id:"_6-3-5-验证集群是否成功"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_6-3-5-验证集群是否成功"}},[s._v("#")]),s._v(" 6.3.5 验证集群是否成功")]),s._v(" "),e("ul",[e("li",[s._v("注册界面")])]),s._v(" "),e("p",[e("a",{attrs:{href:"http://192.168.236.177:30080/register",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://192.168.236.177:30080/register"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("img",{attrs:{src:a(599),alt:"image-20190624195413483"}})]),s._v(" "),e("ul",[e("li",[s._v("登陆界面")])]),s._v(" "),e("p",[e("a",{attrs:{href:"http://192.168.236.177:30080/login",target:"_blank",rel:"noopener noreferrer"}},[s._v("http://192.168.236.177:30080/login"),e("OutboundLink")],1)]),s._v(" "),e("p",[e("img",{attrs:{src:a(600),alt:"image-20190624195450072"}})]),s._v(" "),e("ul",[e("li",[s._v("后端界面")])]),s._v(" "),e("p",[e("img",{attrs:{src:a(601),alt:"image-20190624175022369"}})]),s._v(" "),e("h1",{attrs:{id:"七、k8s架构图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#七、k8s架构图"}},[s._v("#")]),s._v(" 七、k8s架构图")]),s._v(" "),e("p",[e("img",{attrs:{src:a(602),alt:"k8s"}})])])}),[],!1,null,null,null);t.default=n.exports},576:function(s,t){s.exports="data:image/png;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAA0JCgsKCA0LCgsODg0PEyAVExISEyccHhcgLikxMC4pLSwzOko+MzZGNywtQFdBRkxOUlNSMj5aYVpQYEpRUk//2wBDAQ4ODhMREyYVFSZPNS01T09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT0//wAARCADdATEDASIAAhEBAxEB/8QAHAABAAICAwEAAAAAAAAAAAAAAAYHBAUBAgMI/8QAQxAAAQMDAgIHBAYIBQQDAAAAAQACAwQFEQYhEjEHE0FRYYGRInGhsRQyNrLB0RUWUlRicnOTIyQ1dOEzQkPwU6Lx/8QAGgEBAAMBAQEAAAAAAAAAAAAAAAIDBAUBBv/EACgRAQACAgEEAQMEAwAAAAAAAAABAgMRBBIhMUETBVFhFSIygRRx8f/aAAwDAQACEQMRAD8As5ERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERBwuVr7hdqG2tzUzgO7GDdx8lE7lq+rqMx0LPo8Z24ju4/gP/d1fi4uTL4jshbJWvlMK65UdvZxVVQ2PPJvMn3DmVh02pbVUyCNtTwOPLrAWj1OyrmSR8ry+R7nuJyS45J811XRr9Nr0957qZzzvtC3gQRkHmuyrC3XqvtpAglJjz/037t9OzywpbbdWUVVhlWPo0ne45afPs81jzcHJj7x3hZXLWfKRIurHte0OY4OaRkEHOV2WNaIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiAiIgIiICIiDhOxYN1udPa6UzVBJJ2awc3HuChVz1PX13EyJ30aI7cMZ9ojxPP0wtGDi5M3jx90LZIr5TG43ygtwxPMHSf/Gzd3n3eaidy1XXVWWUv+WiPa05cR4ns8vVR8kkkkkk7klcLq4eDjx97d5Z7ZbT47OXOLnFziSSckk5JXCItqlyAXEAAkk4AAySV71dDVUJYKqB8ReMt4u3/AJ8FzbniK5Ush3DZWuPuBBUp144CGjZ2lzj6Y/NZ75rVy1pEdpWRWJrM/ZDURFpVs633autzgaaYhucmN27T5fkpXbdXUs+I65vUScuIZLSfmPj71BkWbNxceXvMd/vCyuS1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CIGtvYA2yY3/AHiPxVjaCgvFPYXR31koqOvc5plfxOLSAck5JznPNBU92IZrytc44AubyT3f4pKv9VRr3RlxkvM10tVM6oiqCHPjjGXMd2nHMgkZyO0rX25+vTPTxCK8dVE5vsvY5gIBGxJAyMDtKDx6UWubrOcu5OhjLfdjHzBWxtmnNa1dspqihvrxTSRtdE1tdIA1uNhgDAxyx2YwpdrnSX6x08dRSOayugBDeLYSN/ZJ7MHcH39+RXdPQa2sTnQUVNdIW5OWwMc9hPftkeaDaN6O9TSXBlVU1NNJJ1ge+R07nOJBzkkjJKn+rNM0+paBkUshimhcXRSgZ4c4yCO0HA9FDtHxaxl1LS1V2ZcHUjOISCpcWtGWkAhpIyc45BbTpCZqZ1dRTWFlWIoY3cTqZ+5cSNi0HJAAHZjdBB7np3UWkJPpjZHxxjb6TSyHHPkeR37iMKfdHeqKq/U9RS3Eh1TTYcJWgDjacjcDtB7R3+sHrHa7u1MaGsprpLC/GWPpi0HByMnA7RndTno80tU2GnqKm48LampDR1QOeraMncjtJPlhBNUREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREBERAREQEREH//2Q=="},577:function(s,t){s.exports="data:image/png;base64,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"},578:function(s,t,a){s.exports=a.p+"assets/img/k8s5.04fd19e3.png"},579:function(s,t,a){s.exports=a.p+"assets/img/k8s6.f684d73f.png"},580:function(s,t,a){s.exports=a.p+"assets/img/k8s7.ac8b7519.png"},581:function(s,t){s.exports="data:image/png;base64,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"},582:function(s,t,a){s.exports=a.p+"assets/img/k8s9.6aa5714c.png"},583:function(s,t,a){s.exports=a.p+"assets/img/k8s10.b115387d.png"},584:function(s,t,a){s.exports=a.p+"assets/img/k8s11.dcbf8b8c.png"},585:function(s,t,a){s.exports=a.p+"assets/img/k8s4.97c31b8f.png"},586:function(s,t,a){s.exports=a.p+"assets/img/ubuntu1.c10ccf95.jpg"},587:function(s,t,a){s.exports=a.p+"assets/img/ubuntu2.4888586c.jpg"},588:function(s,t,a){s.exports=a.p+"assets/img/ubuntu3.18930fd5.jpg"},589:function(s,t,a){s.exports=a.p+"assets/img/ubuntu4.c1a84fa4.jpg"},590:function(s,t,a){s.exports=a.p+"assets/img/ubuntu5.90f54fd2.jpg"},591:function(s,t,a){s.exports=a.p+"assets/img/ubuntu6.2ecc47eb.jpg"},592:function(s,t,a){s.exports=a.p+"assets/img/ubuntu7.549a17e6.jpg"},593:function(s,t,a){s.exports=a.p+"assets/img/ubuntu8.74cd3169.jpg"},594:function(s,t,a){s.exports=a.p+"assets/img/ubuntu9.544e3cfc.jpg"},595:function(s,t,a){s.exports=a.p+"assets/img/ubuntu10.456d2102.png"},596:function(s,t,a){s.exports=a.p+"assets/img/docker1.05be8038.png"},597:function(s,t,a){s.exports=a.p+"assets/img/docker2.e1e0f6da.jpg"},598:function(s,t,a){s.exports=a.p+"assets/img/docker3.ad5aad6f.jpg"},599:function(s,t,a){s.exports=a.p+"assets/img/beego2.41411ab9.png"},600:function(s,t,a){s.exports=a.p+"assets/img/beego3.6c6bd2f2.png"},601:function(s,t,a){s.exports=a.p+"assets/img/beego1.f66caca6.png"},602:function(s,t,a){s.exports=a.p+"assets/img/architecture.7786145a.png"}}]);