(window.webpackJsonp=window.webpackJsonp||[]).push([[333],{911:function(t,r,e){"use strict";e.r(r);var n=e(44),a=Object(n.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"_8-1-fmt-æ ‡å‡†åº“-print-æ˜¯æ€ä¹ˆæ ·è¾“å‡ºçš„ï¼Ÿ"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#_8-1-fmt-æ ‡å‡†åº“-print-æ˜¯æ€ä¹ˆæ ·è¾“å‡ºçš„ï¼Ÿ"}},[t._v("#")]),t._v(" 8.1 fmt æ ‡å‡†åº“ --- Print* æ˜¯æ€ä¹ˆæ ·è¾“å‡ºçš„ï¼Ÿ")]),t._v(" "),e("h2",{attrs:{id:"å‰è¨€"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å‰è¨€"}},[t._v("#")]),t._v(" å‰è¨€")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('package main\n\nimport (\n\t"fmt"\n)\n\nfunc main() {\n\tfmt.Println("Hello World!")\n}\n')])])]),e("p",[t._v("æ ‡å‡†å¼€åœºè§å¤šäº†ï¼Œé‚£å†…éƒ¨æ ‡å‡†åº“åˆæ˜¯æ€ä¹ˆè¾“å‡ºè¿™æ®µè‹±æ–‡çš„å‘¢ï¼Ÿä»Šå¤©ä¸€èµ·æ¥å›´è§‚ä¸‹æºç å§ ğŸ¤­")]),t._v(" "),e("h2",{attrs:{id:"åŸå‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åŸå‹"}},[t._v("#")]),t._v(" åŸå‹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func Print(a ...interface{}) (n int, err error) {\n\treturn Fprint(os.Stdout, a...)\n}\n\nfunc Println(a ...interface{}) (n int, err error) {\n\treturn Fprintln(os.Stdout, a...)\n}\n\nfunc Printf(format string, a ...interface{}) (n int, err error) {\n\treturn Fprintf(os.Stdout, format, a...)\n}\n")])])]),e("ul",[e("li",[t._v("Printï¼šä½¿ç”¨é»˜è®¤æ ¼å¼è¯´æ˜ç¬¦æ‰“å°æ ¼å¼å¹¶å†™å…¥æ ‡å‡†è¾“å‡ºã€‚å½“ä¸¤è€…éƒ½ä¸æ˜¯å­—ç¬¦ä¸²æ—¶ï¼Œåœ¨æ“ä½œæ•°ä¹‹é—´æ·»åŠ ç©ºæ ¼")]),t._v(" "),e("li",[t._v("Printlnï¼šåŒä¸Šï¼Œä¸åŒçš„åœ°æ–¹æ˜¯å§‹ç»ˆåœ¨æ“ä½œæ•°ä¹‹é—´æ·»åŠ ç©ºæ ¼ï¼Œå¹¶é™„åŠ æ¢è¡Œç¬¦")]),t._v(" "),e("li",[t._v("Printfï¼šæ ¹æ®æ ¼å¼è¯´æ˜ç¬¦è¿›è¡Œæ ¼å¼åŒ–å¹¶å†™å…¥æ ‡å‡†è¾“å‡º")])]),t._v(" "),e("p",[t._v("ä»¥ä¸Šä¸‰ç±»å°±æ˜¯æœ€å¸¸è§çš„æ ¼å¼åŒ– I/O çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†åŸºäºæ­¤å»è¿›è¡Œæ‹†è§£æè¿°")]),t._v(" "),e("h2",{attrs:{id:"æ‰§è¡Œæµç¨‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ‰§è¡Œæµç¨‹"}},[t._v("#")]),t._v(" æ‰§è¡Œæµç¨‹")]),t._v(" "),e("h3",{attrs:{id:"æ¡ˆä¾‹ä¸€ï¼šprint"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹ä¸€ï¼šprint"}},[t._v("#")]),t._v(" æ¡ˆä¾‹ä¸€ï¼šPrint")]),t._v(" "),e("p",[t._v("åœ¨è¿™é‡Œæˆ‘ä»¬ä½¿ç”¨ "),e("code",[t._v("Print")]),t._v(" æ–¹æ³•åšä¸€ä¸ªåˆ†æï¼Œä¾¿äºåé¢çš„åŠ æ·±ç†è§£ ğŸ˜„")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func Print(a ...interface{}) (n int, err error) {\n\treturn Fprint(os.Stdout, a...)\n}\n")])])]),e("p",[e("code",[t._v("Print")]),t._v(" ä½¿ç”¨é»˜è®¤æ ¼å¼è¯´æ˜ç¬¦æ‰“å°æ ¼å¼å¹¶å†™å…¥æ ‡å‡†è¾“å‡ºã€‚å¦å¤–å½“ä¸¤è€…éƒ½ä¸ºéç©ºå­—ç¬¦ä¸²æ—¶å°†æ’å…¥ä¸€ä¸ªç©ºæ ¼")]),t._v(" "),e("h4",{attrs:{id:"åŸå‹-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åŸå‹-2"}},[t._v("#")]),t._v(" åŸå‹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func Fprint(w io.Writer, a ...interface{}) (n int, err error) {\n\tp := newPrinter()\n\tp.doPrint(a)\n\tn, err = w.Write(p.buf)\n\tp.free()\n\treturn\n}\n")])])]),e("p",[t._v("è¯¥å‡½æ•°ä¸€å…±æœ‰ä¸¤ä¸ªå½¢å‚ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("wï¼šè¾“å‡ºæµï¼Œåªè¦å®ç° io.Writer å°±å¯ä»¥ï¼ˆæŠ½è±¡ï¼‰ä¸ºæµçš„å†™å…¥")]),t._v(" "),e("li",[t._v("aï¼šä»»æ„ç±»å‹çš„å¤šä¸ªå€¼")])]),t._v(" "),e("h4",{attrs:{id:"åˆ†æä¸»å¹²æµç¨‹"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æä¸»å¹²æµç¨‹"}},[t._v("#")]),t._v(" åˆ†æä¸»å¹²æµç¨‹")]),t._v(" "),e("p",[t._v("1ã€ p := newPrinter(): ç”³è¯·ä¸€ä¸ªä¸´æ—¶å¯¹è±¡æ± ï¼ˆsync.Poolï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("var ppFree = sync.Pool{\n\tNew: func() interface{} { return new(pp) },\n}\n\nfunc newPrinter() *pp {\n\tp := ppFree.Get().(*pp)\n\tp.panicking = false\n\tp.erroring = false\n\tp.fmt.init(&p.buf)\n\treturn p\n}\n")])])]),e("ul",[e("li",[t._v("ppFree.Get()ï¼šåŸºäº sync.Pool å®ç° *pp çš„ä¸´æ—¶å¯¹è±¡æ± ï¼Œæ¯æ¬¡è·å–ä¸€å®šä¼šè¿”å›ä¸€ä¸ªæ–°çš„ pp å¯¹è±¡ç”¨äºæ¥ä¸‹æ¥çš„å¤„ç†")]),t._v(" "),e("li",[t._v("*pp.panickingï¼šç”¨äºè§£å†³æ— é™é€’å½’çš„ panicã€recover é—®é¢˜ï¼Œä¼šæ ¹æ®è¯¥å‚æ•°åœ¨ catchPanic åŠæ—¶ææ–­")]),t._v(" "),e("li",[t._v("*pp.erroringï¼šç”¨äºè¡¨ç¤ºæ­£åœ¨å¤„ç†é”™è¯¯æ— æ•ˆçš„ verb æ ‡è¯†ç¬¦ï¼Œä¸»è¦ä½œç”¨æ˜¯é˜²æ­¢è°ƒç”¨ handleMethods æ–¹æ³•")]),t._v(" "),e("li",[t._v("*pp.fmt.init(&p.buf)ï¼šåˆå§‹åŒ– fmt é…ç½®ï¼Œä¼šè®¾ç½® buf å¹¶ä¸”æ¸…ç©º fmtFlags æ ‡å¿—ä½")])]),t._v(" "),e("p",[t._v("2ã€ p.doPrint(a): æ‰§è¡Œçº¦å®šçš„æ ¼å¼åŒ–åŠ¨ä½œï¼ˆå‚æ•°é—´å¢åŠ ä¸€ä¸ªç©ºæ ¼ã€æœ€åä¸€ä¸ªå‚æ•°å¢åŠ æ¢è¡Œç¬¦ï¼‰")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) doPrint(a []interface{}) {\n\tprevString := false\n\tfor argNum, arg := range a {\n\t    true && false\n\t\tisString := arg != nil && reflect.TypeOf(arg).Kind() == reflect.String\n\t\t// Add a space between two non-string arguments.\n\t\tif argNum > 0 && !isString && !prevString {\n\t\t\tp.buf.WriteByte(' ')\n\t\t}\n\t\tp.printArg(arg, 'v')\n\t\tprevString = isString\n\t}\n}\n")])])]),e("p",[t._v("å¯ä»¥çœ‹åˆ°åº•å±‚é€šè¿‡åˆ¤æ–­è¯¥å…¥å‚ï¼Œ"),e("strong",[t._v("åŒæ—¶")]),t._v("æ»¡è¶³ä»¥ä¸‹æ¡ä»¶å°±ä¼šæ·»åŠ åˆ†éš”ç¬¦ï¼ˆç©ºæ ¼ï¼‰ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("å½“å‰å…¥å‚ä¸ºå¤šä¸ªå‚æ•°ï¼ˆä¾‹å¦‚ï¼šSliceï¼‰")]),t._v(" "),e("li",[t._v("å½“å‰å…¥å‚ä¸ä¸º nil ä¸”ä¸ä¸ºå­—ç¬¦ä¸²ï¼ˆé€šè¿‡åå°„ç¡®å®šï¼‰")]),t._v(" "),e("li",[t._v("å½“å‰å…¥å‚ä¸ä¸ºé¦–é¡¹æˆ–ä¸Šä¸€ä¸ªå…¥å‚ä¸ä¸ºå­—ç¬¦ä¸²")])]),t._v(" "),e("p",[t._v("è€Œåœ¨ "),e("code",[t._v("Print")]),t._v(" æ–¹æ³•ä¸­ï¼Œä¸éœ€è¦æŒ‡å®šæ ¼å¼ç¬¦ã€‚å®é™…ä¸Šåœ¨è¯¥æ–¹æ³•å†…ç›´æ¥æŒ‡å®šä¸º "),e("code",[t._v("v")]),t._v("ã€‚ä¹Ÿå°±æ˜¯é»˜è®¤æ ¼å¼çš„å€¼")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("p.printArg(arg, 'v')\n")])])]),e("ol",{attrs:{start:"3"}},[e("li",[e("p",[t._v("w.Write(p.buf): å†™å…¥æ ‡å‡†è¾“å‡ºï¼ˆio.Writerï¼‰")])]),t._v(" "),e("li",[e("p",[t._v("*pp.free(): é‡Šæ”¾å·²ç¼“å­˜çš„å†…å®¹ã€‚åœ¨ä½¿ç”¨å®Œä¸´æ—¶å¯¹è±¡åï¼Œä¼šå°† bufã€argã€value æ¸…ç©ºå†é‡æ–°å­˜æ”¾åˆ° ppFree ä¸­ã€‚ä»¥ä¾¿äºåé¢å†å–å‡ºé‡ç”¨ï¼ˆåˆ©ç”¨ sync.Pool çš„ä¸´æ—¶å¯¹è±¡ç‰¹æ€§ï¼‰")])])]),t._v(" "),e("h3",{attrs:{id:"æ¡ˆä¾‹äºŒï¼šprintf"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹äºŒï¼šprintf"}},[t._v("#")]),t._v(" æ¡ˆä¾‹äºŒï¼šPrintf")]),t._v(" "),e("h4",{attrs:{id:"æ ‡è¯†ç¬¦"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ ‡è¯†ç¬¦"}},[t._v("#")]),t._v(" æ ‡è¯†ç¬¦")]),t._v(" "),e("h5",{attrs:{id:"verbs"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#verbs"}},[t._v("#")]),t._v(" Verbs")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("%v\tthe value in a default format\n\twhen printing structs, the plus flag (%+v) adds field names\n%#v\ta Go-syntax representation of the value\n%T\ta Go-syntax representation of the type of the value\n%%\ta literal percent sign; consumes no value\n%t\tthe word true or false\n")])])]),e("h5",{attrs:{id:"flags"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#flags"}},[t._v("#")]),t._v(" Flags")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("+\talways print a sign for numeric values;\n\tguarantee ASCII-only output for %q (%+q)\n-\tpad with spaces on the right rather than the left (left-justify the field)\n#\talternate format: add leading 0 for octal (%#o), 0x for hex (%#x);\n\t0X for hex (%#X); suppress 0x for %p (%#p);\n\tfor %q, print a raw (backquoted) string if strconv.CanBackquote\n\treturns true;\n\talways print a decimal point for %e, %E, %f, %F, %g and %G;\n\tdo not remove trailing zeros for %g and %G;\n\twrite e.g. U+0078 'x' if the character is printable for %U (%#U).\n' '\t(space) leave a space for elided sign in numbers (% d);\n\tput spaces between bytes printing strings or slices in hex (% x, % X)\n0\tpad with leading zeros rather than spaces;\n\tfor numbers, this moves the padding after the sign\n")])])]),e("p",[t._v("è¯¦ç»†å»ºè®®å‚è§ "),e("a",{attrs:{href:"https://golang.org/pkg/fmt/#hdr-Printing",target:"_blank",rel:"noopener noreferrer"}},[t._v("Godoc"),e("OutboundLink")],1)]),t._v(" "),e("h4",{attrs:{id:"åŸå‹-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åŸå‹-3"}},[t._v("#")]),t._v(" åŸå‹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func Fprintf(w io.Writer, format string, a ...interface{}) (n int, err error) {\n\tp := newPrinter()\n\tp.doPrintf(format, a)\n\tn, err = w.Write(p.buf)\n\tp.free()\n\treturn\n}\n")])])]),e("p",[t._v("ä¸ Print ç›¸æ¯”ï¼Œæœ€å¤§çš„ä¸åŒå°±æ˜¯ doPrintf æ–¹æ³•äº†ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬æ¥è¯¦ç»†çœ‹çœ‹å…¶ä»£ç ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) doPrintf(format string, a []interface{}) {\n\tend := len(format)\n\targNum := 0         // we process one argument per non-trivial format\n\tafterIndex := false // previous item in format was an index like [3].\n\tp.reordered = false\nformatLoop:\n\tfor i := 0; i < end; {\n\t\tp.goodArgNum = true\n\t\tlasti := i\n\t\tfor i < end && format[i] != '%' {\n\t\t\ti++\n\t\t}\n\t\tif i > lasti {\n\t\t\tp.buf.WriteString(format[lasti:i])\n\t\t}\n\t\tif i >= end {\n\t\t\t// done processing format string\n\t\t\tbreak\n\t\t}\n\n\t\t// Process one verb\n\t\ti++\n\n\t\t// Do we have flags?\n\t\tp.fmt.clearflags()\n\tsimpleFormat:\n\t\tfor ; i < end; i++ {\n\t\t\tc := format[i]\n\t\t\tswitch c {\n\t\t\tcase '#':   //'#'ã€'0'ã€'+'ã€'-'ã€' '\n\t\t\t\t...\n\t\t\tdefault:\n\t\t\t\tif 'a' <= c && c <= 'z' && argNum < len(a) {\n\t\t\t\t\t...\n\t\t\t\t\tp.printArg(a[argNum], rune(c))\n\t\t\t\t\targNum++\n\t\t\t\t\ti++\n\t\t\t\t\tcontinue formatLoop\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\tbreak simpleFormat\n\t\t\t}\n\t\t}\n\n\t\t// Do we have an explicit argument index?\n\t\targNum, i, afterIndex = p.argNumber(argNum, format, i, len(a))\n\n\t\t// Do we have width?\n\t\tif i < end && format[i] == '*' {\n\t\t\t...\n\t\t}\n\n\t\t// Do we have precision?\n\t\tif i+1 < end && format[i] == '.' {\n\t\t\t...\n\t\t}\n\n\t\tif !afterIndex {\n\t\t\targNum, i, afterIndex = p.argNumber(argNum, format, i, len(a))\n\t\t}\n\n\t\tif i >= end {\n\t\t\tp.buf.WriteString(noVerbString)\n\t\t\tbreak\n\t\t}\n\n\t\t...\n\n\t\tswitch {\n\t\tcase verb == '%': // Percent does not absorb operands and ignores f.wid and f.prec.\n\t\t\tp.buf.WriteByte('%')\n\t\tcase !p.goodArgNum:\n\t\t\tp.badArgNum(verb)\n\t\tcase argNum >= len(a): // No argument left over to print for the current verb.\n\t\t\tp.missingArg(verb)\n\t\tcase verb == 'v':\n\t\t\t...\n\t\t\tfallthrough\n\t\tdefault:\n\t\t\tp.printArg(a[argNum], verb)\n\t\t\targNum++\n\t\t}\n\t}\n\n\tif !p.reordered && argNum < len(a) {\n\t\t...\n\t}\n}\n")])])]),e("h4",{attrs:{id:"åˆ†æä¸»å¹²æµç¨‹-2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æä¸»å¹²æµç¨‹-2"}},[t._v("#")]),t._v(" åˆ†æä¸»å¹²æµç¨‹")]),t._v(" "),e("ol",[e("li",[t._v("å†™å…¥ % ä¹‹å‰çš„å­—ç¬¦å†…å®¹")]),t._v(" "),e("li",[t._v("å¦‚æœæ‰€æœ‰æ ‡å¿—ä½å¤„ç†å®Œæ¯•ï¼ˆåˆ°è¾¾å­—ç¬¦å°¾éƒ¨ï¼‰ï¼Œåˆ™è·³å‡ºå¤„ç†é€»è¾‘")]),t._v(" "),e("li",[t._v("ï¼ˆå¾€åç§»ï¼‰è·³è¿‡ % ï¼Œå¼€å§‹å¤„ç†å…¶ä»– verb æ ‡å¿—ä½")]),t._v(" "),e("li",[t._v("æ¸…ç©ºï¼ˆé‡æ–°åˆå§‹åŒ–ï¼‰ fmt é…ç½®")]),t._v(" "),e("li",[t._v("å¤„ç†ä¸€äº›åŸºç¡€çš„ verb æ ‡è¯†ç¬¦ï¼ˆsimpleFormatï¼‰ã€‚å¦‚ï¼š'#'ã€'0'ã€'+'ã€'-'ã€' ' ä»¥åŠ"),e("strong",[t._v("ç®€å•çš„ verbs æ ‡è¯†ç¬¦ï¼ˆä¸åŒ…å«ç²¾åº¦ã€å®½åº¦å’Œå‚æ•°ç´¢å¼•ï¼‰ã€‚éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè‹¥å½“å‰å­—ç¬¦ä¸ºç®€å• verb æ ‡è¯†ç¬¦ã€‚åˆ™ç›´æ¥è¿›è¡Œå¤„ç†ã€‚å®Œæˆåä¼šç›´æ¥åç§»åˆ°ä¸‹ä¸€ä¸ªå­—ç¬¦")]),t._v("ã€‚å…¶ä½™æ ‡å¿—ä½åˆ™å˜æ›´ fmt é…ç½®é¡¹ï¼Œä¾¿äºåç»­å¤„ç†")]),t._v(" "),e("li",[t._v("å¤„ç†å‚æ•°ç´¢å¼•ï¼ˆargument indexï¼‰")]),t._v(" "),e("li",[t._v("å¤„ç†å‚æ•°å®½åº¦ï¼ˆwidthï¼‰")]),t._v(" "),e("li",[t._v("å¤„ç†å‚æ•°ç²¾åº¦ï¼ˆprecisionï¼‰")]),t._v(" "),e("li",[t._v("% ä¹‹åè‹¥ä¸å­˜åœ¨ verbs æ ‡è¯†ç¬¦åˆ™è¿”å› "),e("code",[t._v("noVerbString")]),t._v("ã€‚å€¼ä¸º %!(NOVERB)")]),t._v(" "),e("li",[t._v("å¤„ç†ç‰¹æ®Š verbs æ ‡è¯†ç¬¦ï¼ˆå¦‚ï¼š'%%'ã€'%#v'ã€'%+v'ï¼‰ã€é”™è¯¯æƒ…å†µï¼ˆå¦‚ï¼šå‚æ•°ç´¢å¼•æŒ‡å®šé”™è¯¯ã€å‚æ•°é›†ä¸ªæ•°ä¸ verbs æ ‡è¯†ç¬¦æ•°é‡ä¸åŒ¹é…ï¼‰æˆ–è¿›è¡Œæ ¼å¼åŒ–å‚æ•°é›†")]),t._v(" "),e("li",[t._v("å¸¸è§„æµç¨‹å¤„ç†å®Œæ¯•")])]),t._v(" "),e("p",[t._v("åœ¨ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè‹¥æä¾›çš„å‚æ•°é›†æ¯” verb æ ‡è¯†ç¬¦å¤šã€‚fmt å°†ä¼šè´ªå©ªæ£€æŸ¥ä¸‹å»ï¼Œå°†å¤šå‡ºçš„å‚æ•°é›†ä»¥ç‰¹å®šçš„æ ¼å¼è¾“å‡ºï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('fmt.Printf("%d", 1, 2, 3)\n// 1%!(EXTRA int=2, int=3)\n')])])]),e("ul",[e("li",[t._v("çº¦å®šå‰ç¼€é¢å¤–æ ‡å¿—ï¼š%!(EXTRA")]),t._v(" "),e("li",[t._v("å½“å‰å‚æ•°çš„ç±»å‹")]),t._v(" "),e("li",[t._v("çº¦å®šæ ¼å¼ç¬¦ï¼š=")]),t._v(" "),e("li",[t._v("å½“å‰å‚æ•°çš„å€¼ï¼ˆé»˜è®¤ä»¥ %v æ ¼å¼åŒ–ï¼‰")]),t._v(" "),e("li",[t._v("çº¦å®šæ ¼å¼ç¬¦ï¼š)")])]),t._v(" "),e("p",[t._v("å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå½“æŒ‡å®šäº†å‚æ•°ç´¢å¼•æˆ–å®é™…å¤„ç†çš„å‚æ•°å°äºå…¥å‚çš„å‚æ•°é›†æ—¶ï¼Œå°±ä¸ä¼šè¿›è¡Œè´ªå©ªåŒ¹é…æ¥å±•ç¤º")]),t._v(" "),e("h3",{attrs:{id:"æ¡ˆä¾‹ä¸‰ï¼šprintln"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ¡ˆä¾‹ä¸‰ï¼šprintln"}},[t._v("#")]),t._v(" æ¡ˆä¾‹ä¸‰ï¼šPrintln")]),t._v(" "),e("h4",{attrs:{id:"åŸå‹-4"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åŸå‹-4"}},[t._v("#")]),t._v(" åŸå‹")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func Fprintln(w io.Writer, a ...interface{}) (n int, err error) {\n\tp := newPrinter()\n\tp.doPrintln(a)\n\tn, err = w.Write(p.buf)\n\tp.free()\n\treturn\n}\n")])])]),e("p",[t._v("åœ¨è¿™ä¸ªæ–¹æ³•ä¸­ï¼Œæœ€å¤§çš„åŒºåˆ«å°±æ˜¯ doPrintlnï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) doPrintln(a []interface{}) {\n\tfor argNum, arg := range a {\n\t\tif argNum > 0 {\n\t\t\tp.buf.WriteByte(' ')\n\t\t}\n\t\tp.printArg(arg, 'v')\n\t}\n\tp.buf.WriteByte('\\n')\n}\n")])])]),e("h4",{attrs:{id:"åˆ†æä¸»å¹²æµç¨‹-3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#åˆ†æä¸»å¹²æµç¨‹-3"}},[t._v("#")]),t._v(" åˆ†æä¸»å¹²æµç¨‹")]),t._v(" "),e("ul",[e("li",[t._v("å¾ªç¯å…¥å‚çš„å‚æ•°é›†ï¼Œå¹¶ä»¥ç©ºæ ¼åˆ†éš”")]),t._v(" "),e("li",[t._v("æ ¼å¼åŒ–å½“å‰å‚æ•°ï¼Œé»˜è®¤ä»¥ "),e("code",[t._v("%v")]),t._v(" å¯¹å‚æ•°è¿›è¡Œæ ¼å¼åŒ–")]),t._v(" "),e("li",[t._v("åœ¨ç»“å°¾æ·»åŠ  "),e("code",[t._v("\\n")]),t._v(" å­—ç¬¦")])]),t._v(" "),e("h2",{attrs:{id:"å¦‚ä½•æ ¼å¼åŒ–å‚æ•°"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#å¦‚ä½•æ ¼å¼åŒ–å‚æ•°"}},[t._v("#")]),t._v(" å¦‚ä½•æ ¼å¼åŒ–å‚æ•°")]),t._v(" "),e("p",[t._v("åœ¨ä¸Šä¾‹çš„æ‰§è¡Œæµç¨‹åˆ†æä¸­ï¼Œå¯ä»¥çœ‹åˆ°æ ¼å¼åŒ–å‚æ•°è¿™ä¸€æ­¥æ˜¯åœ¨ "),e("code",[t._v("p.printArg(arg, verb)")]),t._v(" æ‰§è¡Œçš„ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥çœ‹çœ‹å®ƒéƒ½åšäº†äº›ä»€ä¹ˆï¼Ÿ")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) printArg(arg interface{}, verb rune) {\n\tp.arg = arg\n\tp.value = reflect.Value{}\n\n\tif arg == nil {\n\t\tswitch verb {\n\t\tcase 'T', 'v':\n\t\t\tp.fmt.padString(nilAngleString)\n\t\tdefault:\n\t\t\tp.badVerb(verb)\n\t\t}\n\t\treturn\n\t}\n\n\tswitch verb {\n\tcase 'T':\n\t\tp.fmt.fmt_s(reflect.TypeOf(arg).String())\n\t\treturn\n\tcase 'p':\n\t\tp.fmtPointer(reflect.ValueOf(arg), 'p')\n\t\treturn\n\t}\n\n\t// Some types can be done without reflection.\n\tswitch f := arg.(type) {\n\tcase bool:\n\t\tp.fmtBool(f, verb)\n\tcase float32:\n\t\tp.fmtFloat(float64(f), 32, verb)\n\t...\n\tcase reflect.Value:\n\t\tif f.IsValid() && f.CanInterface() {\n\t\t\tp.arg = f.Interface()\n\t\t\tif p.handleMethods(verb) {\n\t\t\t\treturn\n\t\t\t}\n\t\t}\n\t\tp.printValue(f, verb, 0)\n\tdefault:\n\t\tif !p.handleMethods(verb) {\n\t\t\tp.printValue(reflect.ValueOf(f), verb, 0)\n\t\t}\n\t}\n}\n")])])]),e("p",[t._v("åœ¨å°èŠ‚ä»£ç ä¸­å¯ä»¥çœ‹è§ï¼Œfmt æœ¬èº«å¯¹ä¸åŒçš„ç±»å‹åšäº†ä¸åŒçš„å¤„ç†ã€‚è¿™æ ·å­å°±é¿å…äº†é€šè¿‡åå°„ç¡®å®šã€‚ç›¸å¯¹çš„æé«˜äº†æ€§èƒ½")]),t._v(" "),e("p",[t._v("å…¶ä¸­æœ‰ä¸¤ä¸ªç‰¹æ®Šçš„æ–¹æ³•ï¼Œåˆ†åˆ«æ˜¯ "),e("code",[t._v("handleMethods")]),t._v(" å’Œ "),e("code",[t._v("badVerb")]),t._v("ï¼Œæ¥ä¸‹æ¥åˆ†åˆ«æ¥çœ‹çœ‹ä»–ä»¬çš„ä½œç”¨æ˜¯ä»€ä¹ˆ")]),t._v(" "),e("p",[t._v("1ã€badVerb")]),t._v(" "),e("p",[t._v("å®ƒä¸»è¦ç”¨äºæ ¼å¼åŒ–å¹¶å¤„ç†é”™è¯¯çš„è¡Œä¸ºã€‚æˆ‘ä»¬å¯ä»¥ä¸€èµ·æ¥çœ‹çœ‹ï¼Œä»£ç å¦‚ä¸‹ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) badVerb(verb rune) {\n\tp.erroring = true\n\tp.buf.WriteString(percentBangString)\n\tp.buf.WriteRune(verb)\n\tp.buf.WriteByte('(')\n\tswitch {\n\tcase p.arg != nil:\n\t\tp.buf.WriteString(reflect.TypeOf(p.arg).String())\n\t\tp.buf.WriteByte('=')\n\t\tp.printArg(p.arg, 'v')\n\t...\n\tdefault:\n\t\tp.buf.WriteString(nilAngleString)\n\t}\n\tp.buf.WriteByte(')')\n\tp.erroring = false\n}\n")])])]),e("p",[t._v("åœ¨å¤„ç†é”™è¯¯æ ¼å¼åŒ–æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥å¯¹æ¯”ä»¥ä¸‹ä¾‹å­ï¼š")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v('fmt.Printf("%s", []int64{1, 2, 3})\n// [%!s(int64=1) %!s(int64=2) %!s(int64=3)]%\n')])])]),e("p",[t._v("åœ¨ badVerb ä¸­å¯ä»¥çœ‹åˆ°é”™è¯¯å­—ç¬¦ä¸²çš„å¤„ç†ä¸»è¦åˆ†ä¸ºä»¥ä¸‹éƒ¨åˆ†ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("çº¦å®šå‰ç¼€é”™è¯¯æ ‡å¿—ï¼š%!")]),t._v(" "),e("li",[t._v("å½“å‰çš„æ ¼å¼åŒ–æ“ä½œç¬¦")]),t._v(" "),e("li",[t._v("çº¦å®šæ ¼å¼ç¬¦ï¼š(")]),t._v(" "),e("li",[t._v("å½“å‰å‚æ•°çš„ç±»å‹")]),t._v(" "),e("li",[t._v("çº¦å®šæ ¼å¼ç¬¦ï¼š=")]),t._v(" "),e("li",[t._v("å½“å‰å‚æ•°çš„å€¼ï¼ˆé»˜è®¤ä»¥ %v æ ¼å¼åŒ–ï¼‰")]),t._v(" "),e("li",[t._v("çº¦å®šæ ¼å¼ç¬¦ï¼š)")])]),t._v(" "),e("p",[t._v("2ã€handleMethods")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("func (p *pp) handleMethods(verb rune) (handled bool) {\n\tif p.erroring {\n\t\treturn\n\t}\n\t// Is it a Formatter?\n\tif formatter, ok := p.arg.(Formatter); ok {\n\t\thandled = true\n\t\tdefer p.catchPanic(p.arg, verb)\n\t\tformatter.Format(p, verb)\n\t\treturn\n\t}\n\n\t// If we're doing Go syntax and the argument knows how to supply it, take care of it now.\n\t...\n\t\n\treturn false\n}\n")])])]),e("p",[t._v("è¿™ä¸ªæ–¹æ³•æ¯”è¾ƒç‰¹æ®Šï¼Œä¸€èˆ¬åœ¨è‡ªå®šä¹‰ç»“æ„ä½“å’ŒæœªçŸ¥æƒ…å†µä¸‹è¿›è¡Œè°ƒç”¨ã€‚ä¸»è¦æµç¨‹æ˜¯ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("è‹¥å½“å‰å‚æ•°ä¸ºé”™è¯¯ verb æ ‡è¯†ç¬¦ï¼Œåˆ™ç›´æ¥è¿”å›")]),t._v(" "),e("li",[t._v("åˆ¤æ–­æ˜¯å¦å®ç°äº† Formatter")]),t._v(" "),e("li",[t._v("å®ç°ï¼Œåˆ™åˆ©ç”¨è‡ªå®šä¹‰ Formatter æ ¼å¼åŒ–å‚æ•°")]),t._v(" "),e("li",[t._v("æœªå®ç°ï¼Œåˆ™æœ€å¤§ç¨‹åº¦çš„åˆ©ç”¨ Go syntax é»˜è®¤è§„åˆ™å»æ ¼å¼åŒ–å‚æ•°")])]),t._v(" "),e("h2",{attrs:{id:"æ‹“å±•"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ‹“å±•"}},[t._v("#")]),t._v(" æ‹“å±•")]),t._v(" "),e("p",[t._v("åœ¨ fmt æ ‡å‡†åº“ä¸­å¯ä»¥é€šè¿‡è‡ªå®šä¹‰ç»“æ„ä½“æ¥å®ç°æ–¹æ³•çš„è‡ªå®šä¹‰ï¼Œå¤§è‡´å¦‚ä¸‹å‡ ç§")]),t._v(" "),e("h3",{attrs:{id:"fmt-state"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fmt-state"}},[t._v("#")]),t._v(" fmt.State")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("type State interface {\n\tWrite(b []byte) (n int, err error)\n\n\tWidth() (wid int, ok bool)\n\n\tPrecision() (prec int, ok bool)\n\n\tFlag(c int) bool\n}\n")])])]),e("p",[t._v("State ç”¨äºè·å–æ ‡å¿—ä½çš„çŠ¶æ€å€¼ï¼Œæ¶‰åŠå¦‚ä¸‹ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("Writeï¼šå°†æ ¼å¼åŒ–å®Œæ¯•çš„å­—ç¬¦å†™å…¥ç¼“å†²åŒºä¸­ï¼Œç­‰å¾…ä¸‹ä¸€æ­¥å¤„ç†")]),t._v(" "),e("li",[t._v("Widthï¼šè¿”å›å®½åº¦ä¿¡æ¯å’Œæ˜¯å¦è¢«è®¾ç½®")]),t._v(" "),e("li",[t._v("Precisionï¼šè¿”å›ç²¾åº¦ä¿¡æ¯å’Œæ˜¯å¦è¢«è®¾ç½®")]),t._v(" "),e("li",[t._v("Flagï¼šè¿”å›ç‰¹æ®Šæ ‡å¿—ç¬¦ï¼ˆ'#'ã€'0'ã€'+'ã€'-'ã€' 'ï¼‰æ˜¯å¦è¢«è®¾ç½®")])]),t._v(" "),e("h3",{attrs:{id:"fmt-formatter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fmt-formatter"}},[t._v("#")]),t._v(" fmt.Formatter")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("type Formatter interface {\n\tFormat(f State, c rune)\n}\n")])])]),e("p",[t._v("Formatter ç”¨äºå®ç°"),e("strong",[t._v("è‡ªå®šä¹‰æ ¼å¼åŒ–æ–¹æ³•")]),t._v("ã€‚å¯é€šè¿‡åœ¨è‡ªå®šä¹‰ç»“æ„ä½“ä¸­å®ç° Format æ–¹æ³•æ¥å®ç°è¿™ä¸ªç›®çš„")]),t._v(" "),e("p",[t._v("å¦å¤–ï¼Œå¯ä»¥é€šè¿‡ f è·å–åˆ°å½“å‰æ ‡è¯†ç¬¦çš„å®½åº¦ã€ç²¾åº¦ç­‰çŠ¶æ€å€¼ã€‚c ä¸º verb æ ‡è¯†ç¬¦ï¼Œå¯ä»¥å¾—åˆ°å…¶åŠ¨ä½œæ˜¯ä»€ä¹ˆ")]),t._v(" "),e("h3",{attrs:{id:"fmt-stringer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fmt-stringer"}},[t._v("#")]),t._v(" fmt.Stringer")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("type Stringer interface {\n\tString() string\n}\n")])])]),e("p",[t._v("å½“è¯¥å¯¹è±¡ä¸º Stringã€Arrayã€Slice ç­‰ç±»å‹æ—¶ï¼Œå°†ä¼šè°ƒç”¨ "),e("code",[t._v("String()")]),t._v(" æ–¹æ³•å¯¹ç±»å­—ç¬¦ä¸²è¿›è¡Œæ ¼å¼åŒ–")]),t._v(" "),e("h3",{attrs:{id:"fmt-gostringer"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#fmt-gostringer"}},[t._v("#")]),t._v(" fmt.GoStringer")]),t._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[t._v("type GoStringer interface {\n\tGoString() string\n}\n")])])]),e("p",[t._v("å½“æ ¼å¼åŒ–ç‰¹å®š verb æ ‡è¯†ç¬¦ï¼ˆ%vï¼‰æ—¶ï¼Œå°†è°ƒç”¨ "),e("code",[t._v("GoString()")]),t._v(" æ–¹æ³•å¯¹å…¶è¿›è¡Œæ ¼å¼åŒ–")]),t._v(" "),e("h2",{attrs:{id:"æ€»ç»“"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),e("p",[t._v("é€šè¿‡æœ¬æ–‡å¯¹ fmt æ ‡å‡†åº“çš„åˆ†æï¼Œå¯ä»¥å‘ç°å®ƒæœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š")]),t._v(" "),e("ul",[e("li",[t._v("åœ¨æ‹“å±•æ€§æ–¹é¢ï¼Œå¯ä»¥è‡ªå®šä¹‰æ ¼å¼åŒ–æ–¹æ³•ç­‰")]),t._v(" "),e("li",[t._v("åœ¨å®Œæ•´åº¦æ–¹é¢ï¼Œå°½å¯èƒ½çš„è´ªå©ªåŒ¹é…ï¼Œè¾“å‡ºå‚æ•°é›†")]),t._v(" "),e("li",[t._v("åœ¨æ€§èƒ½æ–¹é¢ï¼Œæ¯ç§ä¸åŒçš„å‚æ•°ç±»å‹ï¼Œéƒ½å®ç°äº†ä¸åŒçš„æ ¼å¼åŒ–å¤„ç†æ“ä½œ")]),t._v(" "),e("li",[t._v("åœ¨æ€§èƒ½æ–¹é¢ï¼Œå°½å¯èƒ½çš„æœ€çŸ­åŒ¹é…ï¼Œæ ¼å¼åŒ–å‚æ•°é›†")])]),t._v(" "),e("p",[t._v("æ€»çš„æ¥è¯´ï¼Œfmt æ ‡å‡†åº“æœ‰è®¸å¤šå€¼å¾—æ¨æ•²çš„ç»†èŠ‚ï¼Œå¸Œæœ›ä½ èƒ½å¤Ÿåœ¨æœ¬æ–‡å­¦åˆ° ğŸ˜„")])])}),[],!1,null,null,null);r.default=a.exports}}]);