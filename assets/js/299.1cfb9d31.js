(window.webpackJsonp=window.webpackJsonp||[]).push([[299],{878:function(t,e,r){"use strict";r.r(e);var n=r(44),a=Object(n.a)({},(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[r("h1",{attrs:{id:"ç”ŸæˆäºŒç»´ç ã€åˆå¹¶æµ·æŠ¥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç”ŸæˆäºŒç»´ç ã€åˆå¹¶æµ·æŠ¥"}},[t._v("#")]),t._v(" ç”ŸæˆäºŒç»´ç ã€åˆå¹¶æµ·æŠ¥")]),t._v(" "),r("p",[t._v("é¡¹ç›®åœ°å€ï¼šhttps://github.com/EDDYCJY/go-gin-example")]),t._v(" "),r("h2",{attrs:{id:"çŸ¥è¯†ç‚¹"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#çŸ¥è¯†ç‚¹"}},[t._v("#")]),t._v(" çŸ¥è¯†ç‚¹")]),t._v(" "),r("ul",[r("li",[t._v("å›¾ç‰‡ç”Ÿæˆ")]),t._v(" "),r("li",[t._v("äºŒç»´ç ç”Ÿæˆ")])]),t._v(" "),r("h2",{attrs:{id:"æœ¬æ–‡ç›®æ ‡"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬æ–‡ç›®æ ‡"}},[t._v("#")]),t._v(" æœ¬æ–‡ç›®æ ‡")]),t._v(" "),r("p",[t._v("åœ¨æ–‡ç« çš„è¯¦æƒ…é¡µä¸­ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šéœ€è¦å»å®£ä¼ å®ƒï¼Œè€Œç›®å‰æœ€å¸¸è§çš„å°±æ˜¯å‘æµ·æŠ¥äº†ï¼Œä»Šå¤©æˆ‘ä»¬å°†å®ç°å¦‚ä¸‹åŠŸèƒ½ï¼š")]),t._v(" "),r("ul",[r("li",[r("p",[t._v("ç”ŸæˆäºŒç»´ç ")])]),t._v(" "),r("li",[r("p",[t._v("åˆå¹¶æµ·æŠ¥ï¼ˆèƒŒæ™¯å›¾ + äºŒç»´ç ï¼‰")])])]),t._v(" "),r("h2",{attrs:{id:"å®ç°"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å®ç°"}},[t._v("#")]),t._v(" å®ç°")]),t._v(" "),r("p",[t._v("é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ App é…ç½®é¡¹ä¸­å¢åŠ äºŒç»´ç åŠå…¶æµ·æŠ¥çš„å­˜å‚¨è·¯å¾„ï¼Œæˆ‘ä»¬çº¦å®šé…ç½®é¡¹åç§°ä¸º "),r("code",[t._v("QrCodeSavePath")]),t._v("ï¼Œå€¼ä¸º "),r("code",[t._v("qrcode/")]),t._v("ï¼Œç»è¿‡å¤šèŠ‚è¿è½½çš„ä½ åº”è¯¥èƒ½å¤Ÿå®Œæˆï¼Œè‹¥æœ‰ä¸æ‡‚å¯å‚ç…§ "),r("a",{attrs:{href:"https://github.com/EDDYCJY/go-gin-example/blob/master/conf/app.ini#L14",target:"_blank",rel:"noopener noreferrer"}},[t._v("go-gin-example"),r("OutboundLink")],1),t._v("ã€‚")]),t._v(" "),r("h2",{attrs:{id:"ç”ŸæˆäºŒç»´ç "}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ç”ŸæˆäºŒç»´ç "}},[t._v("#")]),t._v(" ç”ŸæˆäºŒç»´ç ")]),t._v(" "),r("h3",{attrs:{id:"å®‰è£…"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å®‰è£…"}},[t._v("#")]),t._v(" å®‰è£…")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("$ go get -u github.com/boombuler/barcode\n")])])]),r("h3",{attrs:{id:"å·¥å…·åŒ…"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å·¥å…·åŒ…"}},[t._v("#")]),t._v(" å·¥å…·åŒ…")]),t._v(" "),r("p",[t._v("è€ƒè™‘ç”ŸæˆäºŒç»´ç è¿™ä¸€åŠ¨ä½œè´´åˆå·¥å…·åŒ…çš„å®šä¹‰ï¼Œä¸”æœ‰å…¬ç”¨çš„å¯èƒ½æ€§ï¼Œæ–°å»º  pkg/qrcode/qrcode.go æ–‡ä»¶ï¼Œå†™å…¥å†…å®¹ï¼š")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('package qrcode\n\nimport (\n\t"image/jpeg"\n\n\t"github.com/boombuler/barcode"\n\t"github.com/boombuler/barcode/qr"\n\n\t"github.com/EDDYCJY/go-gin-example/pkg/file"\n\t"github.com/EDDYCJY/go-gin-example/pkg/setting"\n\t"github.com/EDDYCJY/go-gin-example/pkg/util"\n)\n\ntype QrCode struct {\n\tURL    string\n\tWidth  int\n\tHeight int\n\tExt    string\n\tLevel  qr.ErrorCorrectionLevel\n\tMode   qr.Encoding\n}\n\nconst (\n\tEXT_JPG = ".jpg"\n)\n\nfunc NewQrCode(url string, width, height int, level qr.ErrorCorrectionLevel, mode qr.Encoding) *QrCode {\n\treturn &QrCode{\n\t\tURL:    url,\n\t\tWidth:  width,\n\t\tHeight: height,\n\t\tLevel:  level,\n\t\tMode:   mode,\n\t\tExt:    EXT_JPG,\n\t}\n}\n\nfunc GetQrCodePath() string {\n\treturn setting.AppSetting.QrCodeSavePath\n}\n\nfunc GetQrCodeFullPath() string {\n\treturn setting.AppSetting.RuntimeRootPath + setting.AppSetting.QrCodeSavePath\n}\n\nfunc GetQrCodeFullUrl(name string) string {\n\treturn setting.AppSetting.PrefixUrl + "/" + GetQrCodePath() + name\n}\n\nfunc GetQrCodeFileName(value string) string {\n\treturn util.EncodeMD5(value)\n}\n\nfunc (q *QrCode) GetQrCodeExt() string {\n\treturn q.Ext\n}\n\nfunc (q *QrCode) CheckEncode(path string) bool {\n\tsrc := path + GetQrCodeFileName(q.URL) + q.GetQrCodeExt()\n\tif file.CheckNotExist(src) == true {\n\t\treturn false\n\t}\n\n\treturn true\n}\n\nfunc (q *QrCode) Encode(path string) (string, string, error) {\n\tname := GetQrCodeFileName(q.URL) + q.GetQrCodeExt()\n\tsrc := path + name\n\tif file.CheckNotExist(src) == true {\n\t\tcode, err := qr.Encode(q.URL, q.Level, q.Mode)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\n\t\tcode, err = barcode.Scale(code, q.Width, q.Height)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\n\t\tf, err := file.MustOpen(name, path)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t\tdefer f.Close()\n\n\t\terr = jpeg.Encode(f, code, nil)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t}\n\n\treturn name, path, nil\n}\n')])])]),r("p",[t._v("è¿™é‡Œä¸»è¦èšç„¦ "),r("code",[t._v("func (q *QrCode) Encode")]),t._v(" æ–¹æ³•ï¼Œåšäº†å¦‚ä¸‹äº‹æƒ…ï¼š")]),t._v(" "),r("ul",[r("li",[t._v("è·å–äºŒç»´ç ç”Ÿæˆè·¯å¾„")]),t._v(" "),r("li",[t._v("åˆ›å»ºäºŒç»´ç ")]),t._v(" "),r("li",[t._v("ç¼©æ”¾äºŒç»´ç åˆ°æŒ‡å®šå¤§å°")]),t._v(" "),r("li",[t._v("æ–°å»ºå­˜æ”¾äºŒç»´ç å›¾ç‰‡çš„æ–‡ä»¶")]),t._v(" "),r("li",[t._v("å°†å›¾åƒï¼ˆäºŒç»´ç ï¼‰ä»¥ JPEG 4ï¼š2ï¼š0 åŸºçº¿æ ¼å¼å†™å…¥æ–‡ä»¶")])]),t._v(" "),r("p",[t._v("å¦å¤–åœ¨ "),r("code",[t._v("jpeg.Encode(f, code, nil)")]),t._v(" ä¸­ï¼Œç¬¬ä¸‰ä¸ªå‚æ•°å¯è®¾ç½®å…¶å›¾åƒè´¨é‡ï¼Œé»˜è®¤å€¼ä¸º 75")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v("// DefaultQuality is the default quality encoding parameter.\nconst DefaultQuality = 75\n\n// Options are the encoding parameters.\n// Quality ranges from 1 to 100 inclusive, higher is better.\ntype Options struct {\n\tQuality int\n}\n")])])]),r("h3",{attrs:{id:"è·¯ç”±æ–¹æ³•"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±æ–¹æ³•"}},[t._v("#")]),t._v(" è·¯ç”±æ–¹æ³•")]),t._v(" "),r("p",[t._v("1ã€ç¬¬ä¸€æ­¥")]),t._v(" "),r("p",[t._v("åœ¨ routers/api/v1/article.go æ–°å¢ GenerateArticlePoster æ–¹æ³•ç”¨äºæ¥å£å¼€å‘")]),t._v(" "),r("p",[t._v("2ã€ç¬¬äºŒæ­¥")]),t._v(" "),r("p",[t._v("åœ¨ routers/router.go çš„ apiv1 ä¸­æ–°å¢ "),r("code",[t._v('apiv1.POST("/articles/poster/generate", v1.GenerateArticlePoster)')]),t._v(" è·¯ç”±")]),t._v(" "),r("p",[t._v("3ã€ç¬¬ä¸‰æ­¥")]),t._v(" "),r("p",[t._v("ä¿®æ”¹ GenerateArticlePoster æ–¹æ³•ï¼Œç¼–å†™å¯¹åº”çš„ç”Ÿæˆé€»è¾‘ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('const (\n\tQRCODE_URL = "https://github.com/EDDYCJY/blog#gin%E7%B3%BB%E5%88%97%E7%9B%AE%E5%BD%95"\n)\n\nfunc GenerateArticlePoster(c *gin.Context) {\n\tappG := app.Gin{c}\n\tqrc := qrcode.NewQrCode(QRCODE_URL, 300, 300, qr.M, qr.Auto)\n\tpath := qrcode.GetQrCodeFullPath()\n\t_, _, err := qrc.Encode(path)\n\tif err != nil {\n\t\tappG.Response(http.StatusOK, e.ERROR, nil)\n\t\treturn\n\t}\n\n\tappG.Response(http.StatusOK, e.SUCCESS, nil)\n}\n')])])]),r("h3",{attrs:{id:"éªŒè¯"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯"}},[t._v("#")]),t._v(" éªŒè¯")]),t._v(" "),r("p",[t._v("é€šè¿‡ POST æ–¹æ³•è®¿é—®  "),r("code",[t._v("http://127.0.0.1:8000/api/v1/articles/poster/generate?token=$token")]),t._v("ï¼ˆæ³¨æ„ $tokenï¼‰")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.imgur.com/a6Ju16L.jpg",alt:"image"}})]),t._v(" "),r("p",[t._v("é€šè¿‡æ£€æŸ¥ä¸¤ä¸ªç‚¹ç¡®å®šåŠŸèƒ½æ˜¯å¦æ­£å¸¸ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),r("p",[t._v("1ã€è®¿é—®ç»“æœæ˜¯å¦ 200")]),t._v(" "),r("p",[t._v("2ã€æœ¬åœ°ç›®å½•æ˜¯å¦æˆåŠŸç”ŸæˆäºŒç»´ç å›¾ç‰‡")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.imgur.com/FdVf4z4.jpg",alt:"image"}})]),t._v(" "),r("h2",{attrs:{id:"åˆå¹¶æµ·æŠ¥"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#åˆå¹¶æµ·æŠ¥"}},[t._v("#")]),t._v(" åˆå¹¶æµ·æŠ¥")]),t._v(" "),r("p",[t._v("åœ¨è¿™ä¸€èŠ‚ï¼Œå°†å®ç°äºŒç»´ç å›¾ç‰‡ä¸èƒŒæ™¯å›¾åˆå¹¶æˆæ–°çš„ä¸€å¼ å›¾ï¼Œå¯ç”¨äºå¸¸è§çš„å®£ä¼ æµ·æŠ¥ç­‰ä¸šåŠ¡åœºæ™¯")]),t._v(" "),r("h3",{attrs:{id:"èƒŒæ™¯å›¾"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#èƒŒæ™¯å›¾"}},[t._v("#")]),t._v(" èƒŒæ™¯å›¾")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.imgur.com/Zm13Wgv.jpg",alt:"image"}})]),t._v(" "),r("p",[t._v("å°†èƒŒæ™¯å›¾å¦å­˜ä¸º runtime/qrcode/bg.jpgï¼ˆå®é™…åº”ç”¨ï¼Œå¯å­˜åœ¨ OSS æˆ–å…¶ä»–åœ°æ–¹ï¼‰")]),t._v(" "),r("h3",{attrs:{id:"service-æ–¹æ³•"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#service-æ–¹æ³•"}},[t._v("#")]),t._v(" service æ–¹æ³•")]),t._v(" "),r("p",[t._v("æ‰“å¼€ service/article_service ç›®å½•ï¼Œæ–°å»º article_poster.go æ–‡ä»¶ï¼Œå†™å…¥å†…å®¹ï¼š")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('package article_service\n\nimport (\n\t"image"\n\t"image/draw"\n\t"image/jpeg"\n\t"os"\n\n\t"github.com/EDDYCJY/go-gin-example/pkg/file"\n\t"github.com/EDDYCJY/go-gin-example/pkg/qrcode"\n)\n\ntype ArticlePoster struct {\n\tPosterName string\n\t*Article\n\tQr *qrcode.QrCode\n}\n\nfunc NewArticlePoster(posterName string, article *Article, qr *qrcode.QrCode) *ArticlePoster {\n\treturn &ArticlePoster{\n\t\tPosterName: posterName,\n\t\tArticle:    article,\n\t\tQr:         qr,\n\t}\n}\n\nfunc GetPosterFlag() string {\n\treturn "poster"\n}\n\nfunc (a *ArticlePoster) CheckMergedImage(path string) bool {\n\tif file.CheckNotExist(path+a.PosterName) == true {\n\t\treturn false\n\t}\n\n\treturn true\n}\n\nfunc (a *ArticlePoster) OpenMergedImage(path string) (*os.File, error) {\n\tf, err := file.MustOpen(a.PosterName, path)\n\tif err != nil {\n\t\treturn nil, err\n\t}\n\n\treturn f, nil\n}\n\ntype ArticlePosterBg struct {\n\tName string\n\t*ArticlePoster\n\t*Rect\n\t*Pt\n}\n\ntype Rect struct {\n\tName string\n\tX0   int\n\tY0   int\n\tX1   int\n\tY1   int\n}\n\ntype Pt struct {\n\tX int\n\tY int\n}\n\nfunc NewArticlePosterBg(name string, ap *ArticlePoster, rect *Rect, pt *Pt) *ArticlePosterBg {\n\treturn &ArticlePosterBg{\n\t\tName:          name,\n\t\tArticlePoster: ap,\n\t\tRect:          rect,\n\t\tPt:            pt,\n\t}\n}\n\nfunc (a *ArticlePosterBg) Generate() (string, string, error) {\n\tfullPath := qrcode.GetQrCodeFullPath()\n\tfileName, path, err := a.Qr.Encode(fullPath)\n\tif err != nil {\n\t\treturn "", "", err\n\t}\n\n\tif !a.CheckMergedImage(path) {\n\t\tmergedF, err := a.OpenMergedImage(path)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t\tdefer mergedF.Close()\n\n\t\tbgF, err := file.MustOpen(a.Name, path)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t\tdefer bgF.Close()\n\n\t\tqrF, err := file.MustOpen(fileName, path)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t\tdefer qrF.Close()\n\n\t\tbgImage, err := jpeg.Decode(bgF)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\t\tqrImage, err := jpeg.Decode(qrF)\n\t\tif err != nil {\n\t\t\treturn "", "", err\n\t\t}\n\n\t\tjpg := image.NewRGBA(image.Rect(a.Rect.X0, a.Rect.Y0, a.Rect.X1, a.Rect.Y1))\n\n\t\tdraw.Draw(jpg, jpg.Bounds(), bgImage, bgImage.Bounds().Min, draw.Over)\n\t\tdraw.Draw(jpg, jpg.Bounds(), qrImage, qrImage.Bounds().Min.Sub(image.Pt(a.Pt.X, a.Pt.Y)), draw.Over)\n\n\t\tjpeg.Encode(mergedF, jpg, nil)\n\t}\n\n\treturn fileName, path, nil\n}\n')])])]),r("p",[t._v("è¿™é‡Œé‡ç‚¹ç•™æ„ "),r("code",[t._v("func (a *ArticlePosterBg) Generate()")]),t._v(" æ–¹æ³•ï¼Œåšäº†å¦‚ä¸‹äº‹æƒ…ï¼š")]),t._v(" "),r("ul",[r("li",[t._v("è·å–äºŒç»´ç å­˜å‚¨è·¯å¾„")]),t._v(" "),r("li",[t._v("ç”ŸæˆäºŒç»´ç å›¾åƒ")]),t._v(" "),r("li",[t._v("æ£€æŸ¥åˆå¹¶åå›¾åƒï¼ˆæŒ‡çš„æ˜¯å­˜æ”¾åˆå¹¶åçš„æµ·æŠ¥ï¼‰æ˜¯å¦å­˜åœ¨")]),t._v(" "),r("li",[t._v("è‹¥ä¸å­˜åœ¨ï¼Œåˆ™ç”Ÿæˆå¾…åˆå¹¶çš„å›¾åƒ mergedF")]),t._v(" "),r("li",[t._v("æ‰“å¼€äº‹å…ˆå­˜æ”¾çš„èƒŒæ™¯å›¾ bgF")]),t._v(" "),r("li",[t._v("æ‰“å¼€ç”Ÿæˆçš„äºŒç»´ç å›¾åƒ qrF")]),t._v(" "),r("li",[t._v("è§£ç  bgF å’Œ qrF è¿”å› image.Image")]),t._v(" "),r("li",[t._v("åˆ›å»ºä¸€ä¸ªæ–°çš„ RGBA å›¾åƒ")]),t._v(" "),r("li",[t._v("åœ¨ RGBA å›¾åƒä¸Šç»˜åˆ¶ èƒŒæ™¯å›¾ï¼ˆbgFï¼‰")]),t._v(" "),r("li",[t._v("åœ¨å·²ç»˜åˆ¶èƒŒæ™¯å›¾çš„ RGBA å›¾åƒä¸Šï¼Œåœ¨æŒ‡å®š Point ä¸Šç»˜åˆ¶äºŒç»´ç å›¾åƒï¼ˆqrFï¼‰")]),t._v(" "),r("li",[t._v("å°†ç»˜åˆ¶å¥½çš„ RGBA å›¾åƒä»¥ JPEG 4ï¼š2ï¼š0 åŸºçº¿æ ¼å¼å†™å…¥åˆå¹¶åçš„å›¾åƒæ–‡ä»¶ï¼ˆmergedFï¼‰")])]),t._v(" "),r("h3",{attrs:{id:"é”™è¯¯ç "}},[r("a",{staticClass:"header-anchor",attrs:{href:"#é”™è¯¯ç "}},[t._v("#")]),t._v(" é”™è¯¯ç ")]),t._v(" "),r("p",[t._v("æ–°å¢ "),r("a",{attrs:{href:"https://github.com/EDDYCJY/go-gin-example/blob/master/pkg/e/code.go#L27",target:"_blank",rel:"noopener noreferrer"}},[t._v("é”™è¯¯ç "),r("OutboundLink")],1),t._v("ï¼Œ"),r("a",{attrs:{href:"https://github.com/EDDYCJY/go-gin-example/blob/master/pkg/e/msg.go#L25",target:"_blank",rel:"noopener noreferrer"}},[t._v("é”™è¯¯æç¤º"),r("OutboundLink")],1)]),t._v(" "),r("h3",{attrs:{id:"è·¯ç”±æ–¹æ³•-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#è·¯ç”±æ–¹æ³•-2"}},[t._v("#")]),t._v(" è·¯ç”±æ–¹æ³•")]),t._v(" "),r("p",[t._v("æ‰“å¼€ routers/api/v1/article.go æ–‡ä»¶ï¼Œä¿®æ”¹ GenerateArticlePoster æ–¹æ³•ï¼Œç¼–å†™æœ€ç»ˆçš„ä¸šåŠ¡é€»è¾‘ï¼ˆå«ç”ŸæˆäºŒç»´ç åŠåˆå¹¶æµ·æŠ¥ï¼‰ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('const (\n\tQRCODE_URL = "https://github.com/EDDYCJY/blog#gin%E7%B3%BB%E5%88%97%E7%9B%AE%E5%BD%95"\n)\n\nfunc GenerateArticlePoster(c *gin.Context) {\n\tappG := app.Gin{c}\n\tarticle := &article_service.Article{}\n\tqr := qrcode.NewQrCode(QRCODE_URL, 300, 300, qr.M, qr.Auto) // ç›®å‰å†™æ­» gin ç³»åˆ—è·¯å¾„ï¼Œå¯è‡ªè¡Œå¢åŠ ä¸šåŠ¡é€»è¾‘\n\tposterName := article_service.GetPosterFlag() + "-" + qrcode.GetQrCodeFileName(qr.URL) + qr.GetQrCodeExt()\n\tarticlePoster := article_service.NewArticlePoster(posterName, article, qr)\n\tarticlePosterBgService := article_service.NewArticlePosterBg(\n\t\t"bg.jpg",\n\t\tarticlePoster,\n\t\t&article_service.Rect{\n\t\t\tX0: 0,\n\t\t\tY0: 0,\n\t\t\tX1: 550,\n\t\t\tY1: 700,\n\t\t},\n\t\t&article_service.Pt{\n\t\t\tX: 125,\n\t\t\tY: 298,\n\t\t},\n\t)\n\n\t_, filePath, err := articlePosterBgService.Generate()\n\tif err != nil {\n\t\tappG.Response(http.StatusOK, e.ERROR_GEN_ARTICLE_POSTER_FAIL, nil)\n\t\treturn\n\t}\n\n\tappG.Response(http.StatusOK, e.SUCCESS, map[string]string{\n\t\t"poster_url":      qrcode.GetQrCodeFullUrl(posterName),\n\t\t"poster_save_url": filePath + posterName,\n\t})\n}\n')])])]),r("p",[t._v("è¿™å—æ¶‰åŠåˆ°å¤§é‡çŸ¥è¯†ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»ä¸‹ï¼Œå¦‚ä¸‹ï¼š")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/#Rect",target:"_blank",rel:"noopener noreferrer"}},[t._v("image.Rect"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/#Pt",target:"_blank",rel:"noopener noreferrer"}},[t._v("image.Pt"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/#NewRGBA",target:"_blank",rel:"noopener noreferrer"}},[t._v("image.NewRGBA"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/jpeg/#Encode",target:"_blank",rel:"noopener noreferrer"}},[t._v("jpeg.Encode"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/jpeg/#Decode",target:"_blank",rel:"noopener noreferrer"}},[t._v("jpeg.Decode"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/draw/#Op",target:"_blank",rel:"noopener noreferrer"}},[t._v("draw.Op"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://golang.org/pkg/image/draw/#Draw",target:"_blank",rel:"noopener noreferrer"}},[t._v("draw.Draw"),r("OutboundLink")],1)]),t._v(" "),r("li",[r("a",{attrs:{href:"https://blog.golang.org/go-imagedraw-package",target:"_blank",rel:"noopener noreferrer"}},[t._v("go-imagedraw-package"),r("OutboundLink")],1)])]),t._v(" "),r("p",[t._v("å…¶æ‰€æ¶‰åŠã€å…³è”çš„åº“éƒ½å»ºè®®ç ”ç©¶ä¸€ä¸‹")]),t._v(" "),r("h3",{attrs:{id:"staticfs"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#staticfs"}},[t._v("#")]),t._v(" StaticFS")]),t._v(" "),r("p",[t._v("åœ¨ routers/router.go æ–‡ä»¶ï¼Œå¢åŠ å¦‚ä¸‹ä»£ç :")]),t._v(" "),r("div",{staticClass:"language- extra-class"},[r("pre",{pre:!0,attrs:{class:"language-text"}},[r("code",[t._v('r.StaticFS("/qrcode", http.Dir(qrcode.GetQrCodeFullPath()))\n')])])]),r("h3",{attrs:{id:"éªŒè¯-2"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#éªŒè¯-2"}},[t._v("#")]),t._v(" éªŒè¯")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.imgur.com/kR1sqR6.jpg",alt:"image"}})]),t._v(" "),r("p",[t._v("è®¿é—®å®Œæ•´çš„ URL è·¯å¾„ï¼Œè¿”å›åˆæˆåçš„æµ·æŠ¥å¹¶æ‰«é™¤äºŒç»´ç æˆåŠŸåˆ™æ­£ç¡® ğŸ¤“")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://i.imgur.com/0Mhmr44.jpg",alt:"image"}})]),t._v(" "),r("h2",{attrs:{id:"æ€»ç»“"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),r("p",[t._v("åœ¨æœ¬ç« èŠ‚å®ç°äº†ä¸¤ä¸ªå¾ˆå¸¸è§çš„ä¸šåŠ¡åŠŸèƒ½ï¼Œåˆ†åˆ«æ˜¯ç”ŸæˆäºŒç»´ç å’Œåˆå¹¶æµ·æŠ¥ã€‚å¸Œæœ›ä½ èƒ½å¤Ÿä»”ç»†é˜…è¯»æˆ‘ç»™å‡ºçš„é“¾æ¥ï¼Œè¿™å—çš„çŸ¥è¯†é‡ä¸å°‘ï¼Œæƒ³è¦ç”¨å¥½å›¾åƒå¤„ç†çš„åŠŸèƒ½ï¼Œå¿…é¡»ç†è§£å¯¹åº”çš„æ€è·¯ï¼Œä¸¾ä¸€åä¸‰")]),t._v(" "),r("p",[t._v("æœ€åå¸Œæœ›å¯¹ä½ æœ‰æ‰€å¸®åŠ©  ğŸ‘Œ")]),t._v(" "),r("h2",{attrs:{id:"å‚è€ƒ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å‚è€ƒ"}},[t._v("#")]),t._v(" å‚è€ƒ")]),t._v(" "),r("h3",{attrs:{id:"æœ¬ç³»åˆ—ç¤ºä¾‹ä»£ç "}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æœ¬ç³»åˆ—ç¤ºä¾‹ä»£ç "}},[t._v("#")]),t._v(" æœ¬ç³»åˆ—ç¤ºä¾‹ä»£ç ")]),t._v(" "),r("ul",[r("li",[r("a",{attrs:{href:"https://github.com/EDDYCJY/go-gin-example",target:"_blank",rel:"noopener noreferrer"}},[t._v("go-gin-example"),r("OutboundLink")],1)])]),t._v(" "),r("h2",{attrs:{id:"å…³äº"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#å…³äº"}},[t._v("#")]),t._v(" å…³äº")]),t._v(" "),r("h3",{attrs:{id:"ä¿®æ”¹è®°å½•"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ä¿®æ”¹è®°å½•"}},[t._v("#")]),t._v(" ä¿®æ”¹è®°å½•")]),t._v(" "),r("ul",[r("li",[t._v("ç¬¬ä¸€ç‰ˆï¼š2018å¹´02æœˆ16æ—¥å‘å¸ƒæ–‡ç« ")]),t._v(" "),r("li",[t._v("ç¬¬äºŒç‰ˆï¼š2019å¹´10æœˆ02æ—¥ä¿®æ”¹æ–‡ç« ")])]),t._v(" "),r("h2",{attrs:{id:"ï¼Ÿ"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#ï¼Ÿ"}},[t._v("#")]),t._v(" ï¼Ÿ")]),t._v(" "),r("p",[t._v("å¦‚æœæœ‰ä»»ä½•ç–‘é—®æˆ–é”™è¯¯ï¼Œæ¬¢è¿åœ¨ "),r("a",{attrs:{href:"https://github.com/EDDYCJY/blog",target:"_blank",rel:"noopener noreferrer"}},[t._v("issues"),r("OutboundLink")],1),t._v(" è¿›è¡Œæé—®æˆ–ç»™äºˆä¿®æ­£æ„è§ï¼Œå¦‚æœå–œæ¬¢æˆ–å¯¹ä½ æœ‰æ‰€å¸®åŠ©ï¼Œæ¬¢è¿ Starï¼Œå¯¹ä½œè€…æ˜¯ä¸€ç§é¼“åŠ±å’Œæ¨è¿›ã€‚")]),t._v(" "),r("h3",{attrs:{id:"æˆ‘çš„å…¬ä¼—å·"}},[r("a",{staticClass:"header-anchor",attrs:{href:"#æˆ‘çš„å…¬ä¼—å·"}},[t._v("#")]),t._v(" æˆ‘çš„å…¬ä¼—å·")]),t._v(" "),r("p",[r("img",{attrs:{src:"https://image.eddycjy.com/8d0b0c3a11e74efd5fdfd7910257e70b.jpg",alt:"image"}})])])}),[],!1,null,null,null);e.default=a.exports}}]);