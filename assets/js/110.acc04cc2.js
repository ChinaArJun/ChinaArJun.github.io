(window.webpackJsonp=window.webpackJsonp||[]).push([[110],{659:function(t,e,a){"use strict";a.r(e);var r=a(44),s=Object(r.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[a("img",{attrs:{src:"http://qiniu.zhequtao.com/FrYdqX_iYatssyO6OHo6BdbpUPqp",alt:"file"}})]),t._v(" "),a("h1",{attrs:{id:"docker-简易入门"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker-简易入门"}},[t._v("#")]),t._v(" docker 简易入门")]),t._v(" "),a("p",[t._v("Docker镜像的首行从FROM alpine之类的镜像开始，但是最初的基础镜像是如何创建的，本文使用一个busybox创建一个基础镜像，相信在此过程中会对docker一些相关的概念有进一步的理解。")]),t._v(" "),a("h2",{attrs:{id:"什么是基础镜像（base-image）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是基础镜像（base-image）"}},[t._v("#")]),t._v(" 什么是基础镜像（base image）")]),t._v(" "),a("p",[t._v("简单来说，基础镜像就是没有From或者FROM scratch开头的Dockerfile所构建出来的镜像。比如alpine，这个很小的linux镜像目前只有4M左右")]),t._v(" "),a("h2",{attrs:{id:"docker常用镜像选择"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker常用镜像选择"}},[t._v("#")]),t._v(" Docker常用镜像选择")]),t._v(" "),a("p",[t._v("因为Docker镜像是基于基础镜像来构建的，因此选择的基础镜像越高级，我们要做的底层工作就越少。")]),t._v(" "),a("p",[t._v("比如，如果构建一个Java应用的镜像，选择一个openjdk的镜像作为基础镜像比选择一个alpine镜像作为基础镜像要简单地多。")]),t._v(" "),a("h2",{attrs:{id:"docker镜像官网"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#docker镜像官网"}},[t._v("#")]),t._v(" Docker镜像官网")]),t._v(" "),a("p",[t._v("Docker镜像官网（Docker Hub）: https://hub.docker.com")]),t._v(" "),a("p",[t._v("阿里云容器Hub：https://dev.aliyun.com")]),t._v(" "),a("p",[t._v("Google镜像（gcr.io）：https://console.cloud.google.com/gcr/images/google-containers/GLOBAL （科学上网，主要为Kubernetes相关镜像）")]),t._v(" "),a("h2",{attrs:{id:"操作系统基础镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#操作系统基础镜像"}},[t._v("#")]),t._v(" 操作系统基础镜像")]),t._v(" "),a("p",[t._v("比如你要从Linux操作系统基础镜像开始构建，可以参考下表来选择合适的基础镜像：")]),t._v(" "),a("table",[a("thead",[a("tr",[a("th",{staticStyle:{"text-align":"left"}},[t._v("镜像名称")]),t._v(" "),a("th",{staticStyle:{"text-align":"center"}},[t._v("大小")]),t._v(" "),a("th",{staticStyle:{"text-align":"right"}},[t._v("使用场景")])])]),t._v(" "),a("tbody",[a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("busybox")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("1.15MB")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("临时测试用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("alpine")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("4.41MB")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("主要用于测试，也可用于生产环境")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("centos")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("200MB")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("主要用于生产环境，支持CentOS/Red Hat，常用于追求稳定性的企业应用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("ubuntu")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("81.1MB")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("主要用于生产环境，常用于人工智能计算和企业应用")])]),t._v(" "),a("tr",[a("td",{staticStyle:{"text-align":"left"}},[t._v("debian")]),t._v(" "),a("td",{staticStyle:{"text-align":"center"}},[t._v("101MB")]),t._v(" "),a("td",{staticStyle:{"text-align":"right"}},[t._v("主要用于生产环境")])])])]),t._v(" "),a("h2",{attrs:{id:"构建镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#构建镜像"}},[t._v("#")]),t._v(" 构建镜像")]),t._v(" "),a("p",[t._v("使用命令 docker build ,来创建一个新的镜像。因此我们需要创建一个 Dockerfile 文件，其中包含一组指令来告诉 Docker 如何构建我们的镜像。\n我们可以根据需求选择合适的基础镜像来构建我们需要的镜像文件")]),t._v(" "),a("h4",{attrs:{id:"dockerfile"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#dockerfile"}},[t._v("#")]),t._v(" Dockerfile")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("FROM    centos:6.7\nWORK test\nADD . .\nEXPOSE  8080\nCMD ['test']\n")])])]),a("h2",{attrs:{id:"如何使用镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何使用镜像"}},[t._v("#")]),t._v(" 如何使用镜像")]),t._v(" "),a("ul",[a("li",[t._v("使用docker run运行镜像文件:\n当我们单独管理一个镜像文件时，推荐这种方式，可以简单快捷运行已打包的镜像")]),t._v(" "),a("li",[t._v("使用docker-compose运行镜像文件:\n当需要集中管理多个镜像文件时，推荐这种方式，可以更好的集中管理所有的镜像文件")])]),t._v(" "),a("h3",{attrs:{id:"进入容器操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#进入容器操作"}},[t._v("#")]),t._v(" 进入容器操作")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("docker exec -it test_image /bin/sh")])]),t._v(" "),a("li",[a("p",[t._v("docker exec -it test_image bash")])]),t._v(" "),a("li",[a("p",[t._v("docker exec -it test_image sh")])])]),t._v(" "),a("p",[a("img",{attrs:{src:"http://qiniu.zhequtao.com/qrcode.jpg",alt:"关注我"}})])])}),[],!1,null,null,null);e.default=s.exports}}]);